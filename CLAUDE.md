# CLAUDE.md

> ğŸ¤– **NeteaseMod-Claude å·¥ä½œæµå¼€å‘æŒ‡å—**
>
> æœ¬æ–‡æ¡£æŒ‡å¯¼ Claude Code åœ¨æœ¬ä»“åº“ä¸­è¿›è¡Œå·¥ä½œæµçš„å¼€å‘å’Œç»´æŠ¤å·¥ä½œã€‚
>
> **å½“å‰ç‰ˆæœ¬**: v16.3.0 (é‡æ„: æ¸…ç†templates/å†—ä½™æ–‡æ¡£)
> **æœ€åæ›´æ–°**: 2025-11-11

---

## ğŸ¯ AIåŠ©æ‰‹èº«ä»½å®šä½

ä½ æ˜¯ä¸€ä¸ª**å·¥ä½œæµæ¶æ„å¸ˆå’ŒNode.jså¼€å‘ä¸“å®¶**,è´Ÿè´£ç»´æŠ¤å’Œæ”¹è¿› **NeteaseMod-Claude** å·¥ä½œæµç³»ç»Ÿã€‚

**æ ¸å¿ƒèŒè´£**:
- ğŸ—ï¸ å¼€å‘å’Œç»´æŠ¤å·¥ä½œæµç”Ÿæˆå™¨(`lib/`, `bin/`)
- ğŸ“š ç®¡ç†å·¥ä½œæµçŸ¥è¯†åº“(`markdown/`)
- ğŸ”§ ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ(å®‰è£…æµç¨‹ã€é”™è¯¯æç¤ºã€æ–‡æ¡£è´¨é‡)
- ğŸ› ä¿®å¤Bugå’Œå¤„ç†Issue

**é‡è¦æé†’**:
- âš ï¸ æœ¬é¡¹ç›®æ˜¯**å·¥ä½œæµç”Ÿæˆå™¨**,ä¸æ˜¯MODSDKé¡¹ç›®
- âš ï¸ ä½ çš„ç”¨æˆ·æ˜¯**å·¥ä½œæµå¼€å‘è€…**,ä¸æ˜¯MODSDKæ¸¸æˆå¼€å‘è€…
- âš ï¸ ä¸‹æ¸¸é¡¹ç›®(ç”¨æˆ·çš„MODSDKé¡¹ç›®)ä¼šä½¿ç”¨ `templates/CLAUDE.md.template` ä½œä¸ºAIæŒ‡å¯¼æ–‡æ¡£

---

## ğŸ—ï¸ é¡¹ç›®æ¶æ„å…¨æ™¯

### æ ¸å¿ƒè®¾è®¡åŸåˆ™

NeteaseMod-Claude é‡‡ç”¨**ç”Ÿæˆå™¨æ¨¡å¼** + **åŒå±‚æ–‡æ¡£æ¶æ„**,å®ç°äº†å·¥ä½œæµçš„æ¨¡å—åŒ–å’Œå¯å‡çº§æ€§ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä¸Šæ¸¸å·¥ä½œæµ(æœ¬é¡¹ç›®)                        â”‚
â”‚  D:\EcWork\åŸºäºClaudeçš„MODSDKå¼€å‘å·¥ä½œæµ\                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“¦ bin/              CLIå·¥å…·å…¥å£                           â”‚
â”‚    â”œâ”€â”€ initmc.js           â†’ åˆå§‹åŒ–ä¸‹æ¸¸é¡¹ç›®å·¥ä½œæµ           â”‚
â”‚    â”œâ”€â”€ install-global.js   â†’ å…¨å±€å®‰è£…åˆ° ~/.claude-modsdk-* â”‚
â”‚    â””â”€â”€ uninstallmc.js      â†’ æ¸…ç†ä¸‹æ¸¸é¡¹ç›®å·¥ä½œæµ             â”‚
â”‚                                                              â”‚
â”‚  ğŸ”§ lib/              æ ¸å¿ƒç”Ÿæˆå™¨                            â”‚
â”‚    â”œâ”€â”€ generator.js        â†’ æ–‡æ¡£ç”Ÿæˆå™¨(Layer 1/2/3)       â”‚
â”‚    â”œâ”€â”€ symlink-manager.js  â†’ è½¯è¿æ¥ç®¡ç†(æ ¸å¿ƒæœºåˆ¶)          â”‚
â”‚    â”œâ”€â”€ project-analyzer.js â†’ ä»£ç ç»“æ„åˆ†æ                  â”‚
â”‚    â””â”€â”€ config.js           â†’ ç‰ˆæœ¬å·+è·¯å¾„é…ç½®               â”‚
â”‚                                                              â”‚
â”‚  ğŸ“š markdown/         å·¥ä½œæµçŸ¥è¯†åº“(å•ä¸€çœŸå®æº)             â”‚
â”‚    â”œâ”€â”€ æ ¸å¿ƒå·¥ä½œæµæ–‡æ¡£/    â†’ å¼€å‘è§„èŒƒã€é—®é¢˜æ’æŸ¥ã€å¿«é€Ÿå¼€å§‹   â”‚
â”‚    â”œâ”€â”€ æ¦‚å¿µå‚è€ƒ/          â†’ MODSDKæ ¸å¿ƒæ¦‚å¿µã€APIé€ŸæŸ¥        â”‚
â”‚    â”œâ”€â”€ æ·±åº¦æŒ‡å—/          â†’ æ€§èƒ½ä¼˜åŒ–ã€äº‹ä»¶ç³»ç»Ÿã€ECSæ¶æ„    â”‚
â”‚    â””â”€â”€ ai/                â†’ ä»»åŠ¡æ¨¡å¼ç­–ç•¥è¡¨ã€å¿«é€Ÿé€šé“æµç¨‹   â”‚
â”‚                                                              â”‚
â”‚  ğŸ“„ templates/        ä¸‹æ¸¸é¡¹ç›®æ¨¡æ¿                          â”‚
â”‚    â”œâ”€â”€ CLAUDE.md.template          â†’ ä¸‹æ¸¸AIæŒ‡å¯¼æ–‡æ¡£        â”‚
â”‚    â”œâ”€â”€ .claude/commands/*.template â†’ 9ä¸ªClaudeå‘½ä»¤         â”‚
â”‚    â””â”€â”€ markdown/                   â†’ 4ä¸ªé¡¹ç›®ç‰¹å®šæ¨¡æ¿       â”‚
â”‚         â”œâ”€â”€ README.md.template        (æ–‡æ¡£å¯¼èˆª)           â”‚
â”‚         â”œâ”€â”€ ç´¢å¼•.md.template          (å¿«é€Ÿç´¢å¼•)           â”‚
â”‚         â”œâ”€â”€ é¡¹ç›®çŠ¶æ€.md.template      (é¡¹ç›®çŠ¶æ€)           â”‚
â”‚         â””â”€â”€ æ–‡æ¡£å¾…è¡¥å……æ¸…å•.md.template (å¾…åŠæ¸…å•)          â”‚
â”‚                                                              â”‚
â”‚  ğŸ“– docs/             å®˜æ–¹æ–‡æ¡£(Git Submodule)              â”‚
â”‚    â”œâ”€â”€ modsdk-wiki/   â†’ ç½‘æ˜“MODSDKå®˜æ–¹æ–‡æ¡£                â”‚
â”‚    â””â”€â”€ bedrock-wiki/  â†’ MinecraftåŸºå²©ç‰ˆWiki                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ initmc éƒ¨ç½²
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ä¸‹æ¸¸MODSDKé¡¹ç›®(ç”¨æˆ·é¡¹ç›®)                     â”‚
â”‚  D:\YourProject\                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“„ CLAUDE.md                  â†’ ä»æ¨¡æ¿ç”Ÿæˆ,æŒ‡å¯¼AIå¼€å‘      â”‚
â”‚  ğŸ“„ README.md                  â†’ ä»æ¨¡æ¿ç”Ÿæˆ,é¡¹ç›®è¯´æ˜        â”‚
â”‚                                                              â”‚
â”‚  ğŸ“ .claude/                                                â”‚
â”‚    â”œâ”€â”€ commands/               â†’ 9ä¸ªClaudeå‘½ä»¤(ä»æ¨¡æ¿)     â”‚
â”‚    â”‚   â”œâ”€â”€ cc.md               â†’ /cc å¼€å‘å‘½ä»¤              â”‚
â”‚    â”‚   â”œâ”€â”€ review-design.md    â†’ /review-design è®¾è®¡å®¡æŸ¥  â”‚
â”‚    â”‚   â””â”€â”€ ...                 â†’ å…¶ä»–7ä¸ªå‘½ä»¤               â”‚
â”‚    â”‚                                                        â”‚
â”‚    â”œâ”€â”€ core-docs/              â†’ ä¸Šæ¸¸æ–‡æ¡£è½¯è¿æ¥(åªè¯»)      â”‚
â”‚    â”‚   â”œâ”€â”€ æ ¸å¿ƒå·¥ä½œæµæ–‡æ¡£/     â†’ è½¯è¿æ¥åˆ°ä¸Šæ¸¸markdown/     â”‚
â”‚    â”‚   â”œâ”€â”€ æ¦‚å¿µå‚è€ƒ/           â†’ è½¯è¿æ¥åˆ°ä¸Šæ¸¸markdown/     â”‚
â”‚    â”‚   â”œâ”€â”€ æ·±åº¦æŒ‡å—/           â†’ è½¯è¿æ¥åˆ°ä¸Šæ¸¸markdown/     â”‚
â”‚    â”‚   â””â”€â”€ ai/                 â†’ è½¯è¿æ¥åˆ°ä¸Šæ¸¸markdown/ai/  â”‚
â”‚    â”‚                                                        â”‚
â”‚    â””â”€â”€ docs/                   â†’ å®˜æ–¹æ–‡æ¡£è½¯è¿æ¥(å¯é€‰)      â”‚
â”‚        â”œâ”€â”€ modsdk-wiki/        â†’ è½¯è¿æ¥åˆ°ä¸Šæ¸¸docs/         â”‚
â”‚        â””â”€â”€ bedrock-wiki/       â†’ è½¯è¿æ¥åˆ°ä¸Šæ¸¸docs/         â”‚
â”‚                                                              â”‚
â”‚  ğŸ“ markdown/                  â†’ é¡¹ç›®æ–‡æ¡£                   â”‚
â”‚    â”œâ”€â”€ README.md               â†’ æ–‡æ¡£å¯¼èˆª(ä»æ¨¡æ¿ç”Ÿæˆ)      â”‚
â”‚    â”œâ”€â”€ core/                   â†’ é¡¹ç›®è¦†ç›–å±‚(ç”¨æˆ·å¯å®šåˆ¶)    â”‚
â”‚    â”‚   â””â”€â”€ å¼€å‘è§„èŒƒ.md         â†’ å¦‚å­˜åœ¨,ä¼˜å…ˆäºä¸Šæ¸¸åŸºçº¿    â”‚
â”‚    â””â”€â”€ systems/                â†’ é¡¹ç›®Systemæ–‡æ¡£(AIç”Ÿæˆ)   â”‚
â”‚        â”œâ”€â”€ ShopServerSystem.md â†’ å•†åº—ç³»ç»Ÿå®ç°æ–‡æ¡£          â”‚
â”‚        â””â”€â”€ ...                 â†’ å…¶ä»–Systemæ–‡æ¡£            â”‚
â”‚                                                              â”‚
â”‚  ğŸ“ tasks/                     â†’ AIä»»åŠ¡ä¸Šä¸‹æ–‡(AIç®¡ç†)      â”‚
â”‚    â””â”€â”€ task-001-xxx/           â†’ å¤æ‚ä»»åŠ¡ç›®å½•              â”‚
â”‚                                                              â”‚
â”‚  ğŸ“ behavior_packs/            â†’ MODSDKä»£ç (ç”¨æˆ·å¼€å‘)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”‘ æ ¸å¿ƒæœºåˆ¶è¯¦è§£

### 1ï¸âƒ£ åŒå±‚æ–‡æ¡£æ¶æ„(v16.0æ ¸å¿ƒè®¾è®¡)

**è®¾è®¡ç›®æ ‡**: å…è®¸ä¸Šæ¸¸å·¥ä½œæµå‡çº§,åŒæ—¶ä¿æŠ¤ä¸‹æ¸¸é¡¹ç›®å®šåˆ¶ã€‚

```
ç”¨æˆ·éœ€è¦æŸ¥é˜…"å¼€å‘è§„èŒƒ.md"
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AIæ™ºèƒ½æŸ¥é˜…ç­–ç•¥                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. ä¼˜å…ˆ: markdown/core/å¼€å‘è§„èŒƒ.md    â”‚  â† é¡¹ç›®å®šåˆ¶å±‚(ç”¨æˆ·å¯ç¼–è¾‘)
â”‚     âœ… å¦‚æœå­˜åœ¨,ç›´æ¥è¯»å–            â”‚
â”‚     â””â†’ åŒ…å«é¡¹ç›®ç‰¹å®šè§„èŒƒ            â”‚
â”‚                                   â”‚
â”‚  2. é™çº§: .claude/core-docs/æ ¸å¿ƒå·¥ä½œæµæ–‡æ¡£/å¼€å‘è§„èŒƒ.md  â”‚
â”‚     âš ï¸ è½¯è¿æ¥/åªè¯»å‰¯æœ¬            â”‚  â† ä¸Šæ¸¸åŸºçº¿å±‚(å·¥ä½œæµæä¾›)
â”‚     â””â†’ æŒ‡å‘ä¸Šæ¸¸æœ€æ–°ç‰ˆæœ¬            â”‚
â”‚                                   â”‚
â”‚  3. ç»“æœ: AIè¯»å–æ–‡æ¡£å†…å®¹           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å®ç°æœºåˆ¶**:

1. **è½¯è¿æ¥ç®¡ç†å™¨** ([lib/symlink-manager.js](lib/symlink-manager.js)):
   ```javascript
   // æ ¸å¿ƒä»£ç ç‰‡æ®µ
   _getCoreFiles() {
     const includePatterns = [
       'æ ¸å¿ƒå·¥ä½œæµæ–‡æ¡£/**/*.md',  // å¼€å‘è§„èŒƒã€é—®é¢˜æ’æŸ¥ç­‰
       'æ¦‚å¿µå‚è€ƒ/**/*.md',        // MODSDKæ ¸å¿ƒæ¦‚å¿µã€APIé€ŸæŸ¥
       'æ·±åº¦æŒ‡å—/**/*.md',        // æ€§èƒ½ä¼˜åŒ–ã€äº‹ä»¶ç³»ç»Ÿç­‰
       'ai/**/*.md',              // ä»»åŠ¡ç­–ç•¥è¡¨ã€å¿«é€Ÿé€šé“ç­‰
       'å¯é€‰å·¥å…·è¯´æ˜.md'
     ];

     // æ’é™¤ä¸‹æ¸¸é¡¹ç›®ç‰¹å®šæ–‡æ¡£
     const excludePatterns = [
       '**/ç´¢å¼•.md',
       '**/é¡¹ç›®çŠ¶æ€.md',
       'systems/**',  // é¡¹ç›®Systemæ–‡æ¡£ä¸éƒ¨ç½²
       'core/**',     // é¡¹ç›®è¦†ç›–å±‚ä¸éƒ¨ç½²
       'README.md'    // ä¸‹æ¸¸æœ‰è‡ªå·±çš„README
     ];
   }
   ```

2. **Windowsè·¨å¹³å°æ”¯æŒ**:
   - ä¼˜å…ˆä½¿ç”¨ `junction`(ç›®å½•è¿æ¥,æ— éœ€ç®¡ç†å‘˜æƒé™)
   - é™çº§ä¸ºåªè¯»å‰¯æœ¬(æ·»åŠ åªè¯»æ ‡è®°å¤´éƒ¨)

**ä¼˜åŠ¿**:
- âœ… é›¶é£é™©å‡çº§: ä¸Šæ¸¸æ›´æ–°ä¸å½±å“é¡¹ç›®å®šåˆ¶
- âœ… æ¸…æ™°åˆ†å±‚: æ ¸å¿ƒå·¥ä½œæµ vs é¡¹ç›®ç‰¹å®š,ä¸€ç›®äº†ç„¶
- âœ… æŒ‰éœ€å®šåˆ¶: åªå®šåˆ¶éœ€è¦çš„æ–‡æ¡£,å…¶ä»–ä¿æŒåŒæ­¥
- âœ… å®Œå…¨éš”ç¦»: å¤šé¡¹ç›®å…±ç”¨æ—¶,äº’ä¸å¹²æ‰°

---

### 2ï¸âƒ£ æ–‡æ¡£ç”Ÿæˆå™¨(Layer 1/2/3è®¾è®¡)

**è®¾è®¡ç›®æ ‡**: åˆ†å±‚ç”Ÿæˆæ–‡æ¡£,é€‚åº”ä¸åŒé¡¹ç›®è§„æ¨¡å’Œå¤æ‚åº¦ã€‚

```
lib/generator.js: generateAll(targetPath, options)
  â”‚
  â”œâ”€ Layer 1: é€šç”¨å±‚(æ ¸å¿ƒå·¥ä½œæµ)    â† æ‰€æœ‰é¡¹ç›®å¿…éœ€
  â”‚    â”œâ”€ CLAUDE.md               (ä»æ¨¡æ¿ç”Ÿæˆ,æ›¿æ¢å ä½ç¬¦)
  â”‚    â”œâ”€ .claude/commands/        (9ä¸ªClaudeå‘½ä»¤)
  â”‚    â”œâ”€ .claude/core-docs/       (è½¯è¿æ¥åˆ°ä¸Šæ¸¸markdown/)
  â”‚    â”œâ”€ markdown/README.md       (æ–‡æ¡£å¯¼èˆª)
  â”‚    â””â”€ markdown/core/           (åˆ›å»ºç©ºç›®å½•,ä¾›ç”¨æˆ·å®šåˆ¶)
  â”‚
  â”œâ”€ Layer 2: æ¶æ„å±‚(Systemsæ–‡æ¡£)   â† éæœ€å°åŒ–æ¨¡å¼
  â”‚    â””â”€ markdown/systems/        (ä¸ºæ¯ä¸ªSystemç”Ÿæˆæ–‡æ¡£)
  â”‚         â”œâ”€ æ™ºèƒ½æ£€æµ‹ç°æœ‰æ–‡æ¡£è´¨é‡(0-5åˆ†)
  â”‚         â”œâ”€ è´¨é‡â‰¥3åˆ†: ä¿ç•™
  â”‚         â””â”€ è´¨é‡<3åˆ†: è¦†ç›–ç”Ÿæˆ
  â”‚
  â””â”€ Layer 3: ä¸šåŠ¡å±‚(æ¡†æ¶)          â† é¡¹ç›®ç‰¹å®š
       â”œâ”€ markdown/NEWRPG/          (å¦‚æœæ˜¯RPGé¡¹ç›®)
       â””â”€ markdown/presets/         (å¦‚æœä½¿ç”¨ECPreset)
```

**æ ¸å¿ƒä»£ç ** ([lib/generator.js:38-76](lib/generator.js#L38-L76)):

```javascript
async generateAll(targetPath, options = {}) {
  const minimalMode = options.minimalMode || false;

  // Layer 1: æ ¸å¿ƒå·¥ä½œæµ(æ‰€æœ‰é¡¹ç›®)
  await this._generateLayer1(targetPath);

  if (minimalMode) {
    // æœ€å°åŒ–æ¨¡å¼: åªéƒ¨ç½²Layer 1
    console.log('[ç”Ÿæˆå™¨] âœ… æ ¸å¿ƒå·¥ä½œæµéƒ¨ç½²å®Œæˆ!');
    console.log('[ç”Ÿæˆå™¨] ğŸ’¡ ä½¿ç”¨ /validate-docs å‘½ä»¤å‘ç°å¹¶è§„èŒƒåŒ–é¡¹ç›®ç»„ä»¶æ–‡æ¡£');
    return;
  }

  // Layer 2: Systemsæ–‡æ¡£
  await this._generateLayer2(targetPath);

  // Layer 2 æ‰©å±•: è‡ªé€‚åº”ç»„ä»¶æ–‡æ¡£ç»´æŠ¤
  await this._generateAdaptiveDocs(targetPath);

  // Layer 3: ä¸šåŠ¡å±‚æ¡†æ¶
  await this._generateLayer3(targetPath);

  // ç”Ÿæˆæ–‡æ¡£å¾…è¡¥å……æ¸…å•
  await this._generateTodoList(targetPath);
}
```

**æ™ºèƒ½æ–‡æ¡£ç»´æŠ¤**:

1. **è´¨é‡è¯„ä¼°ç®—æ³•** ([lib/generator.js:362-391](lib/generator.js#L362-L391)):
   ```javascript
   _assessDocQuality(content) {
     let score = 0;
     if (/```/.test(content)) score += 1;         // æœ‰ä»£ç å—ç¤ºä¾‹
     if (/mermaid|flowchart/.test(content)) score += 1;  // æœ‰å›¾è¡¨
     if (/ç¤ºä¾‹|Example/.test(content)) score += 1;       // æœ‰ç¤ºä¾‹è¯´æ˜
     if (content.length > 500) score += 1;               // å†…å®¹ä¸°å¯Œ
     if (!/âš ï¸\s*\*\*å¾…è¡¥å……\*\*/.test(content)) score += 1;  // éæ¨¡æ¿
     return score;  // 0-5åˆ†
   }
   ```

2. **æ™ºèƒ½æ£€æµ‹ç°æœ‰æ–‡æ¡£** ([lib/generator.js:246-309](lib/generator.js#L246-L309)):
   - ç²¾ç¡®æ–‡ä»¶ååŒ¹é…: `ShopServerSystem.md`
   - å†…å®¹æ™ºèƒ½åŒ¹é…: æ ‡é¢˜/Front Matter/ç±»å®šä¹‰ä¸­åŒ…å«ç³»ç»Ÿå
   - ä¸­æ–‡æ–‡æ¡£æ”¯æŒ: è¯†åˆ«"å•†åº—ç³»ç»Ÿ"åŒ¹é…"ShopServerSystem"

---

### 3ï¸âƒ£ æ¨¡æ¿ç³»ç»Ÿ

**èŒè´£è¾¹ç•Œ**(v16.3é‡æ„å):

| ç›®å½• | èŒè´£ | æ˜¯å¦éƒ¨ç½² | ç»´æŠ¤æ–¹å¼ |
|------|------|---------|---------|
| **markdown/** | å·¥ä½œæµçŸ¥è¯†åº“(å•ä¸€çœŸå®æº) | âœ… é€šè¿‡è½¯è¿æ¥ | ç›´æ¥ç¼–è¾‘ |
| **templates/** | ä¸‹æ¸¸é¡¹ç›®æ¨¡æ¿ | âœ… ç”Ÿæˆåˆ°ä¸‹æ¸¸ | é€šè¿‡å ä½ç¬¦ |

**templates/ ç›®å½•ç»“æ„**(v16.3ç²¾ç®€å):

```
templates/
â”œâ”€â”€ CLAUDE.md.template            â†’ ä¸‹æ¸¸AIæŒ‡å¯¼æ–‡æ¡£
â”œâ”€â”€ README.md.template            â†’ é¡¹ç›®è¯´æ˜
â”œâ”€â”€ .claude/commands/*.template   â†’ 9ä¸ªClaudeå‘½ä»¤
â””â”€â”€ markdown/                     â†’ é¡¹ç›®ç‰¹å®šæ–‡æ¡£æ¨¡æ¿(ä»…4ä¸ª)
     â”œâ”€â”€ README.md.template         (æ–‡æ¡£å¯¼èˆª)
     â”œâ”€â”€ ç´¢å¼•.md.template           (å¿«é€Ÿç´¢å¼•)
     â”œâ”€â”€ é¡¹ç›®çŠ¶æ€.md.template       (é¡¹ç›®çŠ¶æ€)
     â””â”€â”€ æ–‡æ¡£å¾…è¡¥å……æ¸…å•.md.template (å¾…åŠæ¸…å•)
```

**âš ï¸ é‡è¦: ä¸å†åŒ…å«æ ¸å¿ƒå·¥ä½œæµæ–‡æ¡£**

- âŒ ~~å¼€å‘è§„èŒƒ.md.template~~ (å·²åˆ é™¤,é€šè¿‡è½¯è¿æ¥å¼•ç”¨ä¸Šæ¸¸)
- âŒ ~~é—®é¢˜æ’æŸ¥.md.template~~ (å·²åˆ é™¤)
- âŒ ~~å¿«é€Ÿå¼€å§‹.md.template~~ (å·²åˆ é™¤)
- âŒ ~~markdown/ai/~~ (å·²åˆ é™¤,é€šè¿‡è½¯è¿æ¥å¼•ç”¨ä¸Šæ¸¸)

**å ä½ç¬¦ç³»ç»Ÿ** ([lib/config.js:66-81](lib/config.js#L66-L81)):

```javascript
const PLACEHOLDERS = {
  PROJECT_PATH: '{{PROJECT_PATH}}',
  PROJECT_NAME: '{{PROJECT_NAME}}',
  CURRENT_DATE: '{{CURRENT_DATE}}',
  VERSION: '{{VERSION}}',
  EXAMPLE_TASKS: '{{EXAMPLE_TASKS}}',
  CRITICAL_RULES: '{{CRITICAL_RULES}}',
  // ... å…¶ä»–å ä½ç¬¦
};
```

**ç”Ÿæˆæµç¨‹** ([lib/generator.js:491-512](lib/generator.js#L491-L512)):

```javascript
_generateFromTemplate(templateName, targetPath, relativePath, replacements) {
  const templatePath = getTemplatePath(templateName);
  const content = readFile(templatePath);
  const replaced = replacePlaceholders(content, replacements);

  // CLAUDE.md ç‰¹æ®Šå¤„ç†: ä¿æŠ¤ç”¨æˆ·ç¼–è¾‘åŒºåŸŸ
  if (templateName === 'CLAUDE.md') {
    if (fs.existsSync(targetFilePath)) {
      const existingContent = readFile(targetFilePath);
      const mergedContent = this._mergeCLAUDEmd(replaced, existingContent);
      writeFile(targetFilePath, mergedContent);
      return;
    }
  }

  // å…¶ä»–æ–‡ä»¶: ç›´æ¥è¦†ç›–
  writeFile(path.join(targetPath, relativePath), replaced);
}
```

**CLAUDE.md å››æ®µå¼ç»“æ„** (v16.1è®¾è®¡):

```markdown
<!-- ==================== é¡¹ç›®é…ç½®åŒº START ==================== -->
<!-- ç”¨æˆ·å¯ç¼–è¾‘: åŸºç¡€é¡¹ç›®ä¿¡æ¯ -->
é¡¹ç›®åç§°ã€è·¯å¾„ã€çŠ¶æ€ç­‰
<!-- ==================== é¡¹ç›®é…ç½®åŒº END ==================== -->

<!-- ==================== å·¥ä½œæµå†…å®¹ START v16.1 ==================== -->
<!-- âš ï¸ å‡çº§æ—¶ä¼šç²¾ç¡®æ›¿æ¢æ­¤åŒºåŸŸ,ä¸è¦æ‰‹åŠ¨ç¼–è¾‘ -->
ä¸‰æ­¥æ ¸å¿ƒæµç¨‹ã€CRITICALè§„èŒƒã€å‘½ä»¤è¯´æ˜ç­‰
<!-- ==================== å·¥ä½œæµå†…å®¹ END v16.1 ==================== -->

<!-- ==================== é¡¹ç›®æ‰©å±•åŒº START ==================== -->
<!-- ç”¨æˆ·å¯ç¼–è¾‘: æ·»åŠ é¡¹ç›®ç‰¹å®šè§„èŒƒ -->
å›¢é˜Ÿçº¦å®šã€ä¾èµ–å£°æ˜ã€è‡ªå®šä¹‰æ¶æ„ç­‰
<!-- ==================== é¡¹ç›®æ‰©å±•åŒº END ==================== -->

<!-- ==================== æ–‡æ¡£å…ƒæ•°æ®åŒº START ==================== -->
ç‰ˆæœ¬å·ã€ç”Ÿæˆæ—¶é—´ç­‰
<!-- ==================== æ–‡æ¡£å…ƒæ•°æ®åŒº END ==================== -->
```

---

### 4ï¸âƒ£ å…¨å±€å®‰è£…æœºåˆ¶(Windowsæ”¯æŒ)

**è®¾è®¡ç›®æ ‡**: å®ç° `npm install -g` ç±»ä¼¼çš„å…¨å±€å®‰è£…,ä½†ä½¿ç”¨æœ¬åœ°æ–‡ä»¶å¤åˆ¶ã€‚

```
npm run install-global
  â”‚
  â”œâ”€ 1. å¤åˆ¶æ‰€æœ‰æ–‡ä»¶
  â”‚     æº: D:\EcWork\åŸºäºClaudeçš„MODSDKå¼€å‘å·¥ä½œæµ\
  â”‚     ç›®æ ‡: C:\Users\YourName\.claude-modsdk-workflow\
  â”‚     æ’é™¤: node_modules, .git, __pycache__, tests
  â”‚     è·³è¿‡: ç¬¦å·é“¾æ¥(é¿å…Windowsæƒé™é—®é¢˜)
  â”‚
  â”œâ”€ 2. åœ¨å…¨å±€ç›®å½•å®‰è£…ä¾èµ–
  â”‚     cd C:\Users\YourName\.claude-modsdk-workflow\
  â”‚     npm install  (å®‰è£…fs-extra, globç­‰)
  â”‚     git submodule update --init --recursive  (ä¸‹è½½å®˜æ–¹æ–‡æ¡£)
  â”‚
  â””â”€ 3. åˆ›å»ºå‘½ä»¤è„šæœ¬(Windows)
        C:\Users\YourName\initmc.cmd
        å†…å®¹: @echo off
             node "%USERPROFILE%\.claude-modsdk-workflow\bin\initmc.js" %*

        PATHç¯å¢ƒå˜é‡åŒ…å« %USERPROFILE%
        â†’ ç”¨æˆ·å¯åœ¨ä»»æ„ç›®å½•æ‰§è¡Œ initmc
```

**å…³é”®ä»£ç ** ([bin/install-global.js:82-84](bin/install-global.js#L82-L84)):

```javascript
// è·³è¿‡ç¬¦å·é“¾æ¥(é¿å…Windowsæƒé™é—®é¢˜)
if (entry.isSymbolicLink()) {
  continue;
}
```

**éªŒè¯**:

```bash
$ where initmc
C:\Users\YourName\initmc.cmd

$ cd D:\YourProject\
$ initmc
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š å¼€å§‹åˆå§‹åŒ–MODSDKå·¥ä½œæµ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

---

### 5ï¸âƒ£ é¡¹ç›®åˆ†æå™¨(è‡ªé€‚åº”æ–‡æ¡£)

**è®¾è®¡ç›®æ ‡**: æ™ºèƒ½åˆ†æMODSDKé¡¹ç›®ç»“æ„,è‡ªåŠ¨ç”Ÿæˆé«˜è´¨é‡æ–‡æ¡£ã€‚

```
lib/project-analyzer.js: analyzeProject(projectPath)
  â”‚
  â”œâ”€ 1. æ£€æµ‹é¡¹ç›®ç±»å‹
  â”‚     æ‰«æ behavior_packs/*/modMain.py
  â”‚     å…³é”®è¯åŒ¹é…: RPG, BedWars, PVP, Survival
  â”‚
  â”œâ”€ 2. æ‰«æä»£ç ç»“æ„
  â”‚     éå†æ‰€æœ‰Pythonæ–‡ä»¶
  â”‚     è¯†åˆ«: ServerSystem, ClientSystem, Component, Preset
  â”‚     è®¡ç®—: ä»£ç è¡Œæ•°ã€å¤æ‚åº¦è¯„åˆ†(1-10)
  â”‚
  â”œâ”€ 3. å¤æ‚åº¦è¯„åˆ†ç®—æ³•
  â”‚     åŸºç¡€åˆ†: ä»£ç è¡Œæ•° / 50
  â”‚     åŠ åˆ†: äº‹ä»¶æ³¨å†Œæ•°é‡ã€è£…é¥°å™¨æ•°é‡ã€ç±»æ•°é‡
  â”‚     åŠ åˆ†: å…³é”®è¯(event, decorator, async, thread)
  â”‚     æœ€ç»ˆ: min(score, 10)
  â”‚
  â”œâ”€ 4. è‡ªé€‚åº”ç»“æ„å‘ç°(v16.0+)
  â”‚     ç›®å½•ç‰¹å¾åŒ¹é…:
  â”‚       - util/utils â†’ utility(ç½®ä¿¡åº¦77%)
  â”‚       - state/states â†’ state(ç½®ä¿¡åº¦99%)
  â”‚       - config/configs â†’ config(ç½®ä¿¡åº¦99%)
  â”‚     ç”Ÿæˆé¡¹ç›®ç»“æ„æŠ¥å‘Š
  â”‚
  â””â”€ 5. ç”Ÿæˆåˆ†ææŠ¥å‘Š
        é¡¹ç›®æ¦‚å†µã€Systemsæ¸…å•ã€æ¨èæ–‡æ¡£è¯¦ç»†åº¦
```

**å¤æ‚åº¦è¯„åˆ†å…¬å¼** ([lib/project-analyzer.js](lib/project-analyzer.js)):

```javascript
complexity = min(
  Math.ceil(linesOfCode / 50) +  // åŸºç¡€åˆ†
  (eventCount > 5 ? 2 : 0) +     // äº‹ä»¶æ•°é‡
  (decoratorCount > 3 ? 1 : 0) + // è£…é¥°å™¨æ•°é‡
  (classCount > 2 ? 1 : 0) +     // ç±»æ•°é‡
  (hasKeywords ? 1 : 0),         // å…³é”®è¯
  10  // æœ€å¤§å€¼10
);
```

**æ¨èæ–‡æ¡£è¯¦ç»†åº¦**:

| å¤æ‚åº¦è¯„åˆ† | è¯¦ç»†åº¦ | å­—æ•° | è¯´æ˜ |
|-----------|-------|------|------|
| 0-4åˆ† | simple | 500å­— | ç±»ç»“æ„ã€æ–¹æ³•åˆ—è¡¨ |
| 5-7åˆ† | medium | 1500å­— | æ¶æ„ã€æ•°æ®æµã€API |
| 8-10åˆ† | detailed | 3000å­— | å®Œæ•´ä¸šåŠ¡é€»è¾‘ã€ç¤ºä¾‹ |

---

## ğŸ“‚ å…³é”®æ–‡ä»¶èŒè´£

### bin/ - CLIå·¥å…·

| æ–‡ä»¶ | èŒè´£ | è°ƒç”¨åœºæ™¯ |
|------|------|---------|
| [initmc.js](bin/initmc.js) | åˆå§‹åŒ–ä¸‹æ¸¸é¡¹ç›®å·¥ä½œæµ | ç”¨æˆ·åœ¨MODSDKé¡¹ç›®æ‰§è¡Œ `initmc` |
| [install-global.js](bin/install-global.js) | å…¨å±€å®‰è£…å·¥ä½œæµ | å¼€å‘è€…æ‰§è¡Œ `npm run install-global` |
| [uninstallmc.js](bin/uninstallmc.js) | æ¸…ç†ä¸‹æ¸¸é¡¹ç›®å·¥ä½œæµ | ç”¨æˆ·åœ¨MODSDKé¡¹ç›®æ‰§è¡Œ `uninstallmc` |

### lib/ - æ ¸å¿ƒåº“

| æ–‡ä»¶ | èŒè´£ | æ ¸å¿ƒæ–¹æ³• |
|------|------|---------|
| [generator.js](lib/generator.js) | æ–‡æ¡£ç”Ÿæˆå™¨ | `generateAll()`, `_generateLayer1/2/3()`, `_mergeCLAUDEmd()` |
| [symlink-manager.js](lib/symlink-manager.js) | è½¯è¿æ¥ç®¡ç† | `createAllSymlinks()`, `_getCoreFiles()`, `_tryCreateSymlink()` |
| [project-analyzer.js](lib/project-analyzer.js) | é¡¹ç›®ç»“æ„åˆ†æ | `analyzeProject()`, `_calculateComplexity()`, `_detectProjectType()` |
| [config.js](lib/config.js) | é…ç½®ç®¡ç† | `getTemplatePath()`, `VERSION`, `PLACEHOLDERS` |
| [version-checker.js](lib/version-checker.js) | ç‰ˆæœ¬è¿½è¸ª | `checkUpgrade()`, `computeBaselineHashes()` |
| [utils.js](lib/utils.js) | å·¥å…·å‡½æ•° | `readFile()`, `writeFile()`, `replacePlaceholders()` |

### markdown/ - å·¥ä½œæµçŸ¥è¯†åº“(å•ä¸€çœŸå®æº)

| ç›®å½• | èŒè´£ | éƒ¨ç½²æ–¹å¼ |
|------|------|---------|
| `æ ¸å¿ƒå·¥ä½œæµæ–‡æ¡£/` | CRITICALè§„èŒƒã€é—®é¢˜æ’æŸ¥ã€å¿«é€Ÿå¼€å§‹ | è½¯è¿æ¥åˆ°ä¸‹æ¸¸ `.claude/core-docs/` |
| `æ¦‚å¿µå‚è€ƒ/` | MODSDKæ ¸å¿ƒæ¦‚å¿µã€APIé€ŸæŸ¥ | è½¯è¿æ¥åˆ°ä¸‹æ¸¸ `.claude/core-docs/` |
| `æ·±åº¦æŒ‡å—/` | æ€§èƒ½ä¼˜åŒ–ã€äº‹ä»¶ç³»ç»Ÿã€ECSæ¶æ„ | è½¯è¿æ¥åˆ°ä¸‹æ¸¸ `.claude/core-docs/` |
| `ai/` | ä»»åŠ¡æ¨¡å¼ç­–ç•¥è¡¨ã€å¿«é€Ÿé€šé“æµç¨‹ | è½¯è¿æ¥åˆ°ä¸‹æ¸¸ `.claude/core-docs/ai/` |
| `systems/` | Systemæ–‡æ¡£æ¨¡æ¿ | ä¸éƒ¨ç½²(ä»…ä¾›å‚è€ƒ) |

### templates/ - ä¸‹æ¸¸é¡¹ç›®æ¨¡æ¿

| æ–‡ä»¶/ç›®å½• | èŒè´£ | ç”Ÿæˆåˆ°ä¸‹æ¸¸ |
|----------|------|----------|
| `CLAUDE.md.template` | ä¸‹æ¸¸AIæŒ‡å¯¼æ–‡æ¡£ | `CLAUDE.md` |
| `README.md.template` | é¡¹ç›®è¯´æ˜ | `README.md` |
| `.claude/commands/*.template` | Claudeå‘½ä»¤ | `.claude/commands/` |
| `markdown/README.md.template` | æ–‡æ¡£å¯¼èˆª | `markdown/README.md` |
| `markdown/ç´¢å¼•.md.template` | å¿«é€Ÿç´¢å¼• | `markdown/ç´¢å¼•.md` |
| `markdown/é¡¹ç›®çŠ¶æ€.md.template` | é¡¹ç›®çŠ¶æ€ | `markdown/é¡¹ç›®çŠ¶æ€.md` |
| `markdown/æ–‡æ¡£å¾…è¡¥å……æ¸…å•.md.template` | å¾…åŠæ¸…å• | `markdown/æ–‡æ¡£å¾…è¡¥å……æ¸…å•.md` |

---

## ğŸ”„ å®Œæ•´å·¥ä½œæµç¨‹

### åœºæ™¯1: å¼€å‘è€…å®‰è£…å·¥ä½œæµ

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/jju666/NeteaseMod-Claude.git
cd NeteaseMod-Claude

# 2. å…¨å±€å®‰è£…
npm run install-global
  â”‚
  â”œâ”€ å¤åˆ¶åˆ° C:\Users\YourName\.claude-modsdk-workflow\
  â”œâ”€ å®‰è£…ä¾èµ– (fs-extra, glob)
  â”œâ”€ ä¸‹è½½å®˜æ–¹æ–‡æ¡£ (git submodule)
  â””â”€ åˆ›å»º initmc.cmd, uninstallmc.cmd

# 3. éªŒè¯å®‰è£…
where initmc  # â†’ C:\Users\YourName\initmc.cmd
```

### åœºæ™¯2: ç”¨æˆ·åˆå§‹åŒ–MODSDKé¡¹ç›®

```bash
cd D:\YourProject\
initmc
```

**æ‰§è¡Œæµç¨‹**:

```
bin/initmc.js
  â”‚
  â”œâ”€ æ­¥éª¤1: åˆ†æé¡¹ç›®ç»“æ„
  â”‚    project-analyzer.js: analyzeProject()
  â”‚    â”œâ”€ æ£€æµ‹é¡¹ç›®ç±»å‹ (RPG/BedWars/General)
  â”‚    â”œâ”€ æ‰«æSystems/Components
  â”‚    â”œâ”€ è®¡ç®—å¤æ‚åº¦è¯„åˆ†
  â”‚    â””â”€ ç”Ÿæˆåˆ†ææŠ¥å‘Š
  â”‚
  â”œâ”€ æ­¥éª¤2: ç”Ÿæˆæ–‡æ¡£
  â”‚    generator.js: generateAll(targetPath)
  â”‚    â”œâ”€ Layer 1: æ ¸å¿ƒå·¥ä½œæµ
  â”‚    â”‚    â”œâ”€ ç”Ÿæˆ CLAUDE.md (æ›¿æ¢å ä½ç¬¦)
  â”‚    â”‚    â”œâ”€ ç”Ÿæˆ .claude/commands/ (9ä¸ªå‘½ä»¤)
  â”‚    â”‚    â”œâ”€ åˆ›å»º .claude/core-docs/ (è½¯è¿æ¥)
  â”‚    â”‚    â”œâ”€ ç”Ÿæˆ markdown/README.md
  â”‚    â”‚    â””â”€ åˆ›å»º markdown/core/ (ç©ºç›®å½•)
  â”‚    â”‚
  â”‚    â”œâ”€ Layer 2: Systemsæ–‡æ¡£
  â”‚    â”‚    â”œâ”€ æ£€æµ‹ç°æœ‰æ–‡æ¡£è´¨é‡
  â”‚    â”‚    â”œâ”€ è´¨é‡â‰¥3åˆ†: ä¿ç•™
  â”‚    â”‚    â””â”€ è´¨é‡<3åˆ†: ç”Ÿæˆæ–°æ–‡æ¡£
  â”‚    â”‚
  â”‚    â””â”€ Layer 3: ä¸šåŠ¡å±‚æ¡†æ¶
  â”‚         â””â”€ åˆ›å»º markdown/NEWRPG/ (å¦‚æœæ˜¯RPG)
  â”‚
  â”œâ”€ æ­¥éª¤3: åˆ›å»ºè½¯è¿æ¥
  â”‚    symlink-manager.js: createAllSymlinks()
  â”‚    â”œâ”€ æ‰«æä¸Šæ¸¸ markdown/ ç›®å½•
  â”‚    â”œâ”€ æ’é™¤ä¸‹æ¸¸ç‰¹å®šæ–‡æ¡£
  â”‚    â”œâ”€ Windows: ä½¿ç”¨junctionåˆ›å»ºç›®å½•é“¾æ¥
  â”‚    â””â”€ å¤±è´¥æ—¶é™çº§ä¸ºåªè¯»å‰¯æœ¬
  â”‚
  â””â”€ æ­¥éª¤4: è¾“å‡ºéƒ¨ç½²æŠ¥å‘Š
       âœ… æ ¸å¿ƒå·¥ä½œæµéƒ¨ç½²å®Œæˆ
       ğŸ“Š é¡¹ç›®åˆ†ææŠ¥å‘Š
       ğŸ“š å·²éƒ¨ç½²æ–‡æ¡£æ¸…å•
```

### åœºæ™¯3: AIæ‰§è¡Œ `/cc` å‘½ä»¤

```
ç”¨æˆ·æ‰§è¡Œ: /cc ä¿®å¤å•†åº—BUG
  â”‚
  â”œâ”€ 1. Claude Code è¯»å– .claude/commands/cc.md
  â”‚     â””â”€ è§£æå‘½ä»¤æŒ‡ä»¤å’Œå·¥ä½œæµ
  â”‚
  â”œâ”€ 2. æŸ¥é˜… ../../CLAUDE.md
  â”‚     â””â”€ ç†è§£é¡¹ç›®ç»“æ„å’Œä¸‰æ­¥æ ¸å¿ƒæµç¨‹
  â”‚
  â”œâ”€ 3. åˆ¤æ–­ä»»åŠ¡çº§åˆ«
  â”‚     â””â”€ æ ‡å‡†ä»»åŠ¡ (3-8æ–‡ä»¶) â†’ 5ç« æ¨¡æ¿
  â”‚
  â”œâ”€ 4. æŸ¥é˜…æ ¸å¿ƒæ–‡æ¡£ (æ™ºèƒ½é™çº§)
  â”‚     â”œâ”€ å°è¯•: markdown/core/å¼€å‘è§„èŒƒ.md (é¡¹ç›®å®šåˆ¶ç‰ˆ)
  â”‚     â””â”€ é™çº§: .claude/core-docs/æ ¸å¿ƒå·¥ä½œæµæ–‡æ¡£/å¼€å‘è§„èŒƒ.md
  â”‚          â””â”€ è½¯è¿æ¥æŒ‡å‘: C:\Users\...\.claude-modsdk-workflow\markdown\æ ¸å¿ƒå·¥ä½œæµæ–‡æ¡£\å¼€å‘è§„èŒƒ.md
  â”‚
  â”œâ”€ 5. æŸ¥é˜…é—®é¢˜æ’æŸ¥æ–‡æ¡£
  â”‚     â””â”€ .claude/core-docs/æ ¸å¿ƒå·¥ä½œæµæ–‡æ¡£/é—®é¢˜æ’æŸ¥.md
  â”‚
  â”œâ”€ 6. æŸ¥é˜…é¡¹ç›®Systemæ–‡æ¡£
  â”‚     â””â”€ Glob: markdown/systems/*Shop*.md
  â”‚          â””â”€ æ‰¾åˆ°: markdown/systems/ShopServerSystem.md
  â”‚
  â”œâ”€ 7. æŸ¥é˜…å®˜æ–¹APIæ–‡æ¡£ (æœ¬åœ°ä¼˜å…ˆ)
  â”‚     â”œâ”€ å°è¯•: .claude/docs/modsdk-wiki/api/xxx.md (è½¯è¿æ¥)
  â”‚     â”‚    â””â”€ è½¯è¿æ¥æŒ‡å‘: C:\Users\...\.claude-modsdk-workflow\docs\modsdk-wiki\...
  â”‚     â”‚    â””â”€ æˆåŠŸ: âš¡ è€—æ—¶<1ç§’, æ¶ˆè€—~500 tokens
  â”‚     â””â”€ å¤±è´¥: WebFetchåœ¨çº¿æŸ¥è¯¢ (ğŸŒ è€—æ—¶5-10ç§’, æ¶ˆè€—2-3k tokens)
  â”‚
  â”œâ”€ 8. åˆ†æä»£ç 
  â”‚     â”œâ”€ Grep: class.*ShopServerSystem
  â”‚     â”œâ”€ Read: ShopServerSystem.py
  â”‚     â””â”€ å¯¹ç…§æ–‡æ¡£åŸåˆ™åˆ†æé—®é¢˜
  â”‚
  â”œâ”€ 9. è¾“å‡ºæ£€æŸ¥ç‚¹æŠ¥å‘Š
  â”‚     â””â”€ åˆ—å‡ºå·²æŸ¥é˜…æ–‡æ¡£ã€å…³é”®åŸåˆ™ã€æ–‡æ¡£ä¾æ®
  â”‚
  â””â”€ 10. æ‰§è¡Œä¿®å¤
        â”œâ”€ Edit: ShopServerSystem.py
        â””â”€ æ·»åŠ æ³¨é‡Šå¼•ç”¨æ–‡æ¡£ä¾æ®
```

---

## ğŸš¨ å¼€å‘è§„èŒƒ

### è§„èŒƒ1: èŒè´£è¾¹ç•Œ(v16.3é‡æ„å)

**æ ¸å¿ƒåŸåˆ™**: `markdown/` æ˜¯å•ä¸€çœŸå®æº,`templates/` åªåŒ…å«é¡¹ç›®ç‰¹å®šæ¨¡æ¿ã€‚

| âœ… æ­£ç¡® | âŒ é”™è¯¯ |
|--------|--------|
| åœ¨ `markdown/æ ¸å¿ƒå·¥ä½œæµæ–‡æ¡£/` ç»´æŠ¤å¼€å‘è§„èŒƒ | ~~åœ¨ `templates/markdown/` ç»´æŠ¤å¼€å‘è§„èŒƒå‰¯æœ¬~~ |
| åœ¨ `templates/markdown/` ç»´æŠ¤é¡¹ç›®ç‰¹å®šæ¨¡æ¿ | ~~åœ¨ `templates/markdown/` ç»´æŠ¤æ ¸å¿ƒå·¥ä½œæµæ–‡æ¡£~~ |
| é€šè¿‡è½¯è¿æ¥éƒ¨ç½²æ ¸å¿ƒæ–‡æ¡£ | ~~é€šè¿‡ `_generateFromTemplate()` ç”Ÿæˆæ ¸å¿ƒæ–‡æ¡£~~ |

**é‡æ„å‰é—®é¢˜**(v16.2åŠä¹‹å‰):

```
templates/markdown/
â”œâ”€â”€ å¼€å‘è§„èŒƒ.md.template (1157è¡Œ, v3.0) â† âŒ ä¸ä¸Šæ¸¸é‡å¤,ç‰ˆæœ¬è¿‡æ—¶
â”œâ”€â”€ é—®é¢˜æ’æŸ¥.md.template (39KB)        â† âŒ ä¸ä¸Šæ¸¸é‡å¤
â”œâ”€â”€ å¿«é€Ÿå¼€å§‹.md.template (4.6KB)       â† âŒ ä¸ä¸Šæ¸¸é‡å¤
â””â”€â”€ ai/                                â† âŒ ä¸ä¸Šæ¸¸é‡å¤,ç¼ºå°‘æ–‡ä»¶

markdown/æ ¸å¿ƒå·¥ä½œæµæ–‡æ¡£/
â”œâ”€â”€ å¼€å‘è§„èŒƒ.md (1858è¡Œ, v3.1)         â† âœ… æœ€æ–°ç‰ˆæœ¬
â”œâ”€â”€ é—®é¢˜æ’æŸ¥.md                        â† âœ… æœ€æ–°ç‰ˆæœ¬
â””â”€â”€ å¿«é€Ÿå¼€å§‹.md                        â† âœ… æœ€æ–°ç‰ˆæœ¬
```

**é‡æ„å**(v16.3):

```
templates/markdown/
â”œâ”€â”€ README.md.template                 â† âœ… é¡¹ç›®ç‰¹å®š(æ–‡æ¡£å¯¼èˆª)
â”œâ”€â”€ ç´¢å¼•.md.template                   â† âœ… é¡¹ç›®ç‰¹å®š(å¿«é€Ÿç´¢å¼•)
â”œâ”€â”€ é¡¹ç›®çŠ¶æ€.md.template               â† âœ… é¡¹ç›®ç‰¹å®š(é¡¹ç›®çŠ¶æ€)
â””â”€â”€ æ–‡æ¡£å¾…è¡¥å……æ¸…å•.md.template         â† âœ… é¡¹ç›®ç‰¹å®š(å¾…åŠæ¸…å•)

markdown/æ ¸å¿ƒå·¥ä½œæµæ–‡æ¡£/               â† âœ… å•ä¸€çœŸå®æº
    â†’ é€šè¿‡è½¯è¿æ¥éƒ¨ç½²åˆ°ä¸‹æ¸¸ .claude/core-docs/
```

---

### è§„èŒƒ2: æ¨¡æ¿å˜é‡ç³»ç»Ÿ

**æ·»åŠ æ–°å ä½ç¬¦**:

1. åœ¨ `lib/config.js` çš„ `PLACEHOLDERS` ä¸­å®šä¹‰:
   ```javascript
   const PLACEHOLDERS = {
     NEW_VAR: '{{NEW_VAR}}',
     // ...
   };
   ```

2. åœ¨ `lib/generator.js` çš„ `_buildReplacements()` ä¸­è®¡ç®—å€¼:
   ```javascript
   _buildReplacements(targetPath) {
     return {
       '{{NEW_VAR}}': this._computeNewVar(),
       // ...
     };
   }
   ```

3. åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨:
   ```markdown
   é¡¹ç›®å˜é‡: {{NEW_VAR}}
   ```

---

### è§„èŒƒ3: è½¯è¿æ¥ç®¡ç†

**æ·»åŠ æ–°çš„æ ¸å¿ƒæ–‡æ¡£ç›®å½•**:

ç¼–è¾‘ `lib/symlink-manager.js` çš„ `_getCoreFiles()`:

```javascript
const includePatterns = [
  'æ ¸å¿ƒå·¥ä½œæµæ–‡æ¡£/**/*.md',
  'æ¦‚å¿µå‚è€ƒ/**/*.md',
  'æ·±åº¦æŒ‡å—/**/*.md',
  'ai/**/*.md',
  'æ–°ç›®å½•/**/*.md',  // â† æ·»åŠ æ–°æ¨¡å¼
  'å¯é€‰å·¥å…·è¯´æ˜.md'
];
```

**æ’é™¤ç‰¹å®šæ–‡æ¡£**:

```javascript
const excludePatterns = [
  '**/ç´¢å¼•.md',
  '**/é¡¹ç›®çŠ¶æ€.md',
  'æ–°ç›®å½•/ç‰¹å®šæ–‡ä»¶.md',  // â† æ·»åŠ æ’é™¤æ¨¡å¼
  'systems/**',
  'core/**',
  'README.md'
];
```

---

### è§„èŒƒ4: ç‰ˆæœ¬å‘å¸ƒæ£€æŸ¥æ¸…å•

- [ ] æ›´æ–° `lib/config.js` çš„ `VERSION`
- [ ] æ›´æ–° `package.json` çš„ `version`
- [ ] æ›´æ–° `CLAUDE.md` çš„ç‰ˆæœ¬å·å’Œæ›´æ–°è¯´æ˜
- [ ] æ›´æ–° `templates/CLAUDE.md.template` çš„ç‰ˆæœ¬å·
- [ ] è¿è¡Œ `npm run install-global` æµ‹è¯•å…¨å±€å®‰è£…
- [ ] åœ¨æµ‹è¯•é¡¹ç›®æ‰§è¡Œ `initmc` éªŒè¯éƒ¨ç½²
- [ ] æ£€æŸ¥è½¯è¿æ¥æ˜¯å¦æ­£ç¡®åˆ›å»º
- [ ] æ£€æŸ¥æ–‡æ¡£å¼•ç”¨è·¯å¾„æ˜¯å¦æ­£ç¡®
- [ ] æäº¤Git commitå¹¶æ‰“tag
- [ ] æ¨é€åˆ°GitHub

---

## ğŸ› é—®é¢˜æ’æŸ¥

### é—®é¢˜1: è½¯è¿æ¥åˆ›å»ºå¤±è´¥

**ç—‡çŠ¶**: `initmc` æŠ¥é”™ "æƒé™ä¸è¶³" æˆ– "EPERM"

**åŸå› **: Windowséœ€è¦å¼€å‘è€…æ¨¡å¼æˆ–ç®¡ç†å‘˜æƒé™

**è§£å†³æ–¹æ¡ˆ**:

1. å¯ç”¨Windowså¼€å‘è€…æ¨¡å¼:
   ```
   è®¾ç½® â†’ æ›´æ–°å’Œå®‰å…¨ â†’ å¼€å‘è€…é€‰é¡¹ â†’ å¼€å‘äººå‘˜æ¨¡å¼
   ```

2. æˆ–è€…ä½¿ç”¨ç®¡ç†å‘˜æƒé™è¿è¡Œç»ˆç«¯

3. è‡ªåŠ¨é™çº§ä¸ºåªè¯»å‰¯æœ¬(ä»£ç å·²å®ç°):
   ```javascript
   // lib/symlink-manager.js:98
   catch (err) {
     // é™çº§: åˆ›å»ºåªè¯»å‰¯æœ¬
     return await this._createReadonlyCopy(...);
   }
   ```

---

### é—®é¢˜2: å…¨å±€å®‰è£…å `initmc` å‘½ä»¤ä¸å¯ç”¨

**ç—‡çŠ¶**: `initmc` å‘½ä»¤æ‰¾ä¸åˆ°

**æ£€æŸ¥**:

```bash
# 1. æ£€æŸ¥å‘½ä»¤è„šæœ¬æ˜¯å¦å­˜åœ¨
ls %USERPROFILE%\initmc.cmd

# 2. æ£€æŸ¥PATHç¯å¢ƒå˜é‡
echo %PATH% | findstr %USERPROFILE%

# 3. æ£€æŸ¥å…¨å±€ç›®å½•æ˜¯å¦å®Œæ•´
dir %USERPROFILE%\.claude-modsdk-workflow
```

**è§£å†³æ–¹æ¡ˆ**:

```bash
# é‡æ–°å…¨å±€å®‰è£…
cd D:\EcWork\åŸºäºClaudeçš„MODSDKå¼€å‘å·¥ä½œæµ
npm run install-global

# é‡å¯ç»ˆç«¯
# éªŒè¯å®‰è£…
where initmc
```

---

### é—®é¢˜3: æ¨¡æ¿æ–‡ä»¶æœªæ‰¾åˆ°

**ç—‡çŠ¶**: `initmc` æŠ¥é”™ "Template not found: xxx.md"

**åŸå› **: `lib/config.js` çš„ `getTemplatePath()` è·¯å¾„æ˜ å°„é”™è¯¯

**æ£€æŸ¥**:

```javascript
// lib/config.js:110-141
function getTemplatePath(templateName, projectType = 'General') {
  if (templateName === 'CLAUDE.md') {
    return path.join(TEMPLATES_DIR, 'CLAUDE.md.template');
  } else if (templateName === 'cc.md') {
    return path.join(TEMPLATES_DIR, '.claude', 'commands', 'cc.md.template');
  }
  // ... ç¡®ä¿æ‰€æœ‰æ¨¡æ¿éƒ½æœ‰æ˜ å°„
}
```

**è§£å†³æ–¹æ¡ˆ**:

1. æ£€æŸ¥æ¨¡æ¿æ–‡ä»¶æ˜¯å¦å­˜åœ¨:
   ```bash
   ls templates/xxx.md.template
   ```

2. æ·»åŠ è·¯å¾„æ˜ å°„:
   ```javascript
   } else if (templateName === 'new-template.md') {
     return path.join(TEMPLATES_DIR, 'new-template.md.template');
   ```

---

### é—®é¢˜4: æ–‡æ¡£å†—ä½™(v16.3å·²ä¿®å¤)

**ç—‡çŠ¶**: ä¸‹æ¸¸é¡¹ç›®åŒæ—¶å­˜åœ¨ `markdown/å¼€å‘è§„èŒƒ.md` å’Œ `.claude/core-docs/æ ¸å¿ƒå·¥ä½œæµæ–‡æ¡£/å¼€å‘è§„èŒƒ.md`

**åŸå› **: v16.2åŠä¹‹å‰ç‰ˆæœ¬çš„é—ç•™é—®é¢˜

**æ£€æŸ¥**:

```bash
cd D:\YourProject\
ls -la markdown/å¼€å‘è§„èŒƒ.md  # æ˜¯è½¯è¿æ¥è¿˜æ˜¯æ–‡ä»¶?
```

**è§£å†³æ–¹æ¡ˆ**:

```bash
# 1. å‡çº§åˆ°v16.3
cd D:\EcWork\åŸºäºClaudeçš„MODSDKå¼€å‘å·¥ä½œæµ
git pull
npm run install-global

# 2. æ¸…ç†ä¸‹æ¸¸é¡¹ç›®æ—§æ–‡ä»¶
cd D:\YourProject\
uninstallmc  # å¸è½½æ—§å·¥ä½œæµ
initmc       # é‡æ–°éƒ¨ç½²æ–°ç‰ˆæœ¬
```

---

## ğŸ“š ç›¸å…³èµ„æº

- **GitHubä»“åº“**: https://github.com/jju666/NeteaseMod-Claude
- **é—®é¢˜è¿½è¸ª**: https://github.com/jju666/NeteaseMod-Claude/issues
- **ç½‘æ˜“MODSDKæ–‡æ¡£**: https://github.com/EaseCation/netease-modsdk-wiki
- **Bedrock Wiki**: https://github.com/Bedrock-OSS/bedrock-wiki

---

## ğŸ“ ç‰ˆæœ¬å†å²

### v16.3.0 (2025-11-11)

**é‡æ„: æ¸…ç†templates/å†—ä½™æ–‡æ¡£,å®ç°å•ä¸€çœŸå®æº**

- åˆ é™¤ `templates/markdown/` ä¸­çš„æ ¸å¿ƒå·¥ä½œæµæ–‡æ¡£å‰¯æœ¬(3ä¸ªæ–‡ä»¶, 75KB+)
- åˆ é™¤ `templates/markdown/ai/` ç›®å½•(3ä¸ªè¿‡æ—¶æ–‡ä»¶)
- æ¸…ç† `lib/config.js` ä¸­çš„åºŸå¼ƒè·¯å¾„æ˜ å°„
- æ›´æ–°æ‰€æœ‰ç‰ˆæœ¬å·å’Œæ–‡æ¡£

**å½±å“**:
- æ¶ˆé™¤æ–‡æ¡£å†—ä½™,ç‰ˆæœ¬ä¸€è‡´æ€§æå‡
- æ˜ç¡®èŒè´£è¾¹ç•Œ: `markdown/`(å•ä¸€çœŸå®æº) vs `templates/`(é¡¹ç›®ç‰¹å®šæ¨¡æ¿)
- é™ä½ç»´æŠ¤æˆæœ¬,é¿å…åŒä»½æ–‡æ¡£åŒæ­¥é—®é¢˜

### v16.2.1 (2025-11-11)

- æ·»åŠ æ¶æ„æµç¨‹å›¾åˆ° `CLAUDE.md`
- å®Œå–„åŒå±‚æ–‡æ¡£æ¶æ„è¯´æ˜

### v16.2.0 (2025-11-09)

- æ–°å¢9ä¸ªClaudeå‘½ä»¤
- ä¼˜åŒ–æ–‡æ¡£å¯¼èˆªç³»ç»Ÿ

### v16.1.0 (2025-11-08)

- å®ç°CLAUDE.mdå››æ®µå¼ç»“æ„
- æ”¯æŒå‡çº§æ—¶ä¿æŠ¤ç”¨æˆ·ç¼–è¾‘åŒºåŸŸ

### v16.0.0 (2025-11-05)

- **é‡å¤§æ›´æ–°**: åŒå±‚æ–‡æ¡£æ¶æ„
- è½¯è¿æ¥ç®¡ç†æœºåˆ¶
- æ™ºèƒ½é™çº§ç­–ç•¥

---

**è®°ä½**:
- â­ æœ¬é¡¹ç›®æ˜¯**å·¥ä½œæµç”Ÿæˆå™¨**,ä¸æ˜¯MODSDKé¡¹ç›®
- â­ `markdown/` æ˜¯å•ä¸€çœŸå®æº,`templates/` åªåŒ…å«é¡¹ç›®ç‰¹å®šæ¨¡æ¿
- â­ é€šè¿‡è½¯è¿æ¥éƒ¨ç½²æ ¸å¿ƒæ–‡æ¡£,è€Œéå¤åˆ¶
- â­ ä¼˜å…ˆè€ƒè™‘ç”¨æˆ·ä½“éªŒ(å‹å¥½çš„é”™è¯¯æç¤ºã€æ¸…æ™°çš„æ–‡æ¡£)
