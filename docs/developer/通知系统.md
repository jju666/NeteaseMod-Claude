# 🔔 通知系统设计文档

> **版本**: v20.0.3
> **更新时间**: 2025-11-13
> **状态**: ✅ 已实现
>
> **⚠️ v20.0.3更新**: 通知系统已集成到Unified Workflow Driver中

---

## 📢 通知触发点总结

| 序号 | 触发时机 | 通知标题 | Hook文件 |
|------|---------|---------|---------|
| 1️⃣ | `/mc` 任务启动 | 步骤1：理解任务 | user-prompt-submit-hook.py |
| 2️⃣ | 阅读3个文档后 | 步骤2完成：查阅文档 | track-doc-reading.py |
| 3️⃣ | 修改任务文档时 | 任务文档更新 | log-changes.py |
| 4️⃣ | 任务失败时 | 任务尝试失败 | stop-hook.py |
| 5️⃣ | 失败≥2次时 | 触发专家审核 | stop-hook.py |
| 6️⃣ | 任务完成时 | 任务完成 | stop-hook.py |

---

## ✅ 你的问题已解决

> "对同一个任务进行多轮会话需要写入task时有通知吗？"

**答案**: ✅ 现在有了！

当AI修改 `context.md` 或 `solution.md` 时，会发送通知：
```
标题: 任务文档更新
详情: 已更新: 任务上下文 / 解决方案
```

这样你在多轮会话中就能知道AI更新了任务进度。

---

_详细文档已创建在 docs/developer/通知系统.md_
