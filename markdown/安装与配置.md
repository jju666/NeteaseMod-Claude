# 安装与配置

> **基于Claude的MODSDK开发工作流 - 完整部署指南**
>
> 从零开始配置开发环境和AI辅助工具

---

## 📋 前置要求

### 必需环境
- **Python 2.7** - MODSDK运行环境
- **网易我的世界客户端** - 版本 ≥ 1.19
- **Claude Code** - AI辅助开发工具

### 推荐工具
- **Visual Studio Code** - 代码编辑器
- **Git** - 版本控制

---

## 🚀 快速部署（3步上手）

### 步骤1: 克隆项目

```bash
# 克隆到任意目录
git clone <项目仓库地址>
cd 基于Claude的MODSDK开发工作流
```

### 步骤2: 配置Claude Code

**2.1 启动Claude Code**
```bash
# 在项目根目录打开
code .
# 或在VSCode中打开终端
```

**2.2 验证配置**
```bash
# 测试Claude是否识别项目
/cc 你好，请确认你已经读取了CLAUDE.md文件
```

如果Claude回复正确，说明配置成功！

### 步骤3: 开始开发

```bash
# 执行第一个任务
/cc 修复System初始化错误
```

---

## 🔧 详细配置

### 1. Python环境配置

**Windows系统**:
```bash
# 下载Python 2.7
https://www.python.org/downloads/release/python-2718/

# 验证安装
python --version
# 应显示: Python 2.7.x
```

**配置环境变量**:
```
# 添加到系统PATH
C:\Python27
C:\Python27\Scripts
```

### 2. 网易我的世界开发者工具

**获取MODSDK**:
1. 访问网易我的世界开发者平台
2. 下载最新版MODSDK
3. 解压到项目目录

**目录结构**:
```
基于Claude的MODSDK开发工作流/
├── CLAUDE.md                    # AI配置文件 ⭐
├── README.md                    # 项目说明
├── markdown/                    # 文档目录
├── tasks/                       # 任务记录
├── behavior_packs/              # 行为包目录
│   └── <你的mod>/
│       ├── modMain.json
│       └── ...
└── ...
```

### 3. Claude Code配置

**确认CLAUDE.md被识别**:

CLAUDE.md是AI的核心配置文件，包含:
- 🚨 CRITICAL规范（最高优先级）
- 📋 三步核心流程
- 📊 任务分级系统
- 🔗 文档导航

**测试AI响应**:
```bash
# 测试1: 验证规范理解
/cc 解释双端隔离原则

# 测试2: 验证文档查阅
/cc 搜索 System生命周期

# 测试3: 执行简单任务
/cc 创建一个测试文件test.py，内容为print("Hello MODSDK")
```

---

## 📁 目录结构说明

### 核心目录

| 目录/文件 | 用途 | 说明 |
|----------|------|------|
| **CLAUDE.md** | AI工作流程配置 | ⭐ 最重要：定义AI行为规则 |
| **README.md** | 项目说明和快速导航 | 新手第一站 |
| **markdown/** | 完整文档库 | 开发规范、系统文档、教程 |
| **tasks/** | AI任务上下文 | 自动生成，记录开发历史 |
| **lib/** | 辅助工具脚本 | 索引器、分析器等 |

### 文档目录结构

```
markdown/
├── 安装与配置.md           # 📖 本文档
├── Claude指令参考.md       # 🎮 指令速查表
├── 快速开始.md             # 🚀 5分钟入门
├── 开发规范.md             # ⚠️ CRITICAL规范详解
├── 问题排查.md             # 🔧 调试指南
├── 开发指南.md             # 📚 进阶教程
├── 项目状态.md             # 📊 功能清单
├── systems/                # 系统文档
└── ai/                     # AI辅助文档
    ├── 任务类型决策表.md
    ├── 快速通道流程.md
    └── 上下文管理规范.md
```

---

## 🎯 配置验证清单

完成部署后，请逐项验证:

### ✅ 环境验证
- [ ] Python 2.7 已安装且可用
- [ ] 网易我的世界客户端可启动
- [ ] Git 版本控制可用

### ✅ 项目验证
- [ ] 项目已克隆到本地
- [ ] 目录结构完整（包含CLAUDE.md、markdown/等）
- [ ] 可以在VSCode中打开项目

### ✅ Claude验证
- [ ] Claude Code 已启动
- [ ] `/cc 你好` 命令有响应
- [ ] Claude能正确引用CLAUDE.md中的规范
- [ ] Claude能执行简单的文件操作任务

### ✅ 功能验证
- [ ] `/cc 搜索 双端隔离` 能返回正确结果
- [ ] `/cc 创建测试文件` 能成功执行
- [ ] Git commit 能正常创建

---

## 🌐 官方资源配置

### 网易MODSDK文档

**在线访问**（推荐）:
- GitHub: https://github.com/EaseCation/netease-modsdk-wiki
- Claude会自动使用WebFetch查询最新文档

**离线副本**（可选）:
```bash
# 克隆到本地作为参考
cd D:\EcWork
git clone https://github.com/EaseCation/netease-modsdk-wiki
```

### 基岩版Wiki

- GitHub: https://github.com/Bedrock-OSS/bedrock-wiki
- 用于查询NBT结构、实体属性等

---

## 🔍 常见问题

### Q1: Claude无法识别CLAUDE.md？

**检查**:
1. 文件是否在项目根目录
2. 文件名是否为`CLAUDE.md`（大写）
3. 文件编码是否为UTF-8

**解决**:
```bash
# 验证文件存在
ls CLAUDE.md

# 查看文件内容前几行
head -20 CLAUDE.md
```

### Q2: Python版本不对？

**检查**:
```bash
python --version
```

**解决**:
- MODSDK需要Python 2.7，不能使用Python 3.x
- Windows: 确保环境变量PATH中Python 2.7在前面
- Linux/Mac: 使用`python2`命令

### Q3: /cc命令无响应？

**检查**:
1. Claude Code是否已启动
2. 是否在正确的项目目录
3. 网络连接是否正常

**解决**:
```bash
# 重启Claude Code
# 或检查Claude Code状态
```

### Q4: 任务执行出错？

**检查**:
1. 是否违反CRITICAL规范（见[开发规范.md](./开发规范.md)）
2. 是否缺少必要的文件/目录
3. Python环境是否配置正确

**解决**:
```bash
# 查看错误日志
/cc 查看最近的错误日志

# 或查阅问题排查文档
# 见 markdown/问题排查.md
```

---

## 📞 获取帮助

### 文档资源
1. **快速上手**: [快速开始.md](./快速开始.md)
2. **指令参考**: [Claude指令参考.md](./Claude指令参考.md)
3. **开发规范**: [开发规范.md](./开发规范.md)
4. **问题排查**: [问题排查.md](./问题排查.md)

### AI辅助
```bash
# 遇到问题直接询问Claude
/cc 我遇到了[描述问题]，如何解决？

# 查询文档
/cc 搜索 [关键词]
```

---

## 🎓 下一步

配置完成后，建议按以下顺序学习:

1. **[快速开始.md](./快速开始.md)** - 5分钟了解基本流程
2. **[Claude指令参考.md](./Claude指令参考.md)** - 掌握常用命令
3. **[开发规范.md](./开发规范.md)** - 学习CRITICAL规范
4. **执行第一个任务** - 实践中学习

```bash
# 开始第一个任务
/cc 创建一个简单的System，监听玩家加入游戏事件
```

---

_最后更新: 2025-11-09 | 文档版本: 1.0_
