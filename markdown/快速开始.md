# 快速开始

> **基于Claude的MODSDK开发工作流 快速入门指南**
>
> 5分钟了解项目结构和开发流程

---

## 🎯 项目概述

General类型MODSDK项目

---

## 📁 项目结构

```
{{PROJECT_ROOT}}/
├── CLAUDE.md                   # AI工作流程参考
├── README.md                   # 项目说明
├── markdown/                   # 文档目录
│   ├── 开发规范.md              # CRITICAL规范
│   ├── 问题排查.md              # 已知问题
│   ├── systems/                # 系统文档
│   └── ai/                     # AI辅助文档
├── tasks/                      # 任务上下文
{{PROJECT_STRUCTURE}}
```

---

## 🚀 开发流程

### 使用Claude Code开发

**步骤1：启动Claude Code**
```bash
# 在项目目录打开终端
cd {{PROJECT_ROOT}}

# 启动Claude Code（如果未自动打开）
```

**步骤2：使用/cc命令**
```bash
# 快速执行任务
/cc [任务描述]

# 示例任务
/cc 修复System初始化错误
/cc 添加新功能模块
/cc 优化代码性能
/cc 日志显示错误
```

**步骤3：AI自动执行**
- AI会自动查阅文档
- AI会遵循CRITICAL规范
- AI会记录修改历史
- AI会创建Git commit

---

## ⚠️ 重要规范

在开始开发前，**必须阅读** [开发规范.md](./开发规范.md)

**CRITICAL规范（必须遵守）**：

### 1. 双端隔离原则
```python
# ❌ 错误：跨端GetSystem
shop_client = self.GetSystem("ShopClientSystem")  # 返回None！

# ✅ 正确：使用NotifyToClient通信
self.NotifyToClient(player_id, "OpenShopUI", {"shop_id": 1})
```

### 2. System生命周期
```python
def __init__(self, namespace, systemName):
    super(MySystem, self).__init__(namespace, systemName)
    self.comp = None
    self.Create()  # ⚠️ 必须手动调用！

def Create(self):
    self.comp = self.GetComponent(...)  # 在Create中初始化
```

### 3. 模块导入规范
```python
# ✅ 正确：子目录使用完整路径
from {{MODULE_PATH}}.modConfig import CONFIG

# ❌ 错误：使用相对导入
import modConfig
```

{{EXTRA_CRITICAL_RULES}}

---

## 📚 文档查阅优先级

当遇到问题时，按以下优先级查阅文档：

1. **开发规范.md** - 检查是否违反CRITICAL规范
2. **问题排查.md** - 查找是否为已知问题
3. **系统文档** - 查阅相关系统的实现文档
4. **官方文档** - 查阅网易MODSDK Wiki或基岩版Wiki

---

## 🌐 官方资源

### 网易MODSDK文档
- **GitHub**: https://github.com/EaseCation/netease-modsdk-wiki
- **用途**: API用法、事件说明、组件文档

### 基岩版Wiki
- **GitHub**: https://github.com/Bedrock-OSS/bedrock-wiki
- **用途**: NBT结构、实体属性、原版机制

---

## 🔍 常见任务示例

### 示例1：修复BUG
```bash
/cc 修复System初始化错误，日志显示GetComponent返回None
```

**AI执行流程**：
1. 理解任务：阅读日志，定位问题
2. 查阅文档：检查System生命周期规范
3. 执行修复：修改代码，添加注释
4. 创建commit：记录修改历史

### 示例2：添加新功能
```bash
/cc 添加玩家伤害事件监听，实现伤害统计
```

**AI执行流程**：
1. 理解任务：识别为标准任务
2. 查阅文档：学习事件系统和组件使用
3. 设计方案：基于MODSDK API设计实现
4. 分阶段实施：注册事件→处理逻辑→测试验证

### 示例3：性能优化
```bash
/cc 优化Update方法，减少tick中的计算开销
```

**AI执行流程**：
1. 理解任务：识别为复杂任务
2. 创建tasks目录：记录完整上下文
3. 分析性能瓶颈：使用性能分析工具
4. 分阶段优化：缓存→算法→批处理

---

## 💡 开发技巧

### 1. 善用微任务快速通道

对于简单修改（配置、文案等），使用微任务快速通道：
```bash
/cc 将配置文件中的参数调整为新数值
```

AI会直接Edit修改，无需创建tasks目录，<2分钟完成。

### 2. 查阅官方文档

遇到不熟悉的API时，查阅MODSDK官方文档：
- 网易MODSDK Wiki: https://github.com/EaseCation/netease-modsdk-wiki
- 基岩版Wiki: https://github.com/Bedrock-OSS/bedrock-wiki

了解API的参数、返回值和使用方式。

### 3. 利用Git追溯

查看历史修改记录：
```bash
git log --oneline
git show [commit-hash]
```

---

## 📊 项目状态

{{PROJECT_STATUS}}

---

## 📞 获取帮助

### 遇到问题？

1. 查阅 [问题排查.md](./问题排查.md)
2. 使用 `/cc` 命令描述问题
3. AI会自动分析和解决

### 文档不足？

AI具有自学习能力：
- 在开发中发现文档缺失时会标记
- 在任务完成时会询问是否更新文档
- 文档会逐步完善

---

_最后更新: 2025-11-09 | 文档版本: 1.0_
