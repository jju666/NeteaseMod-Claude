# å¼€å‘è§„èŒƒ

> **ðŸ“ å¯¼èˆª**: [ðŸ  é¦–é¡µ](../README.md) > [ðŸ“‚ æ–‡æ¡£](../README.md#æ–‡æ¡£å¯¼èˆª) > å¼€å‘è§„èŒƒ
>
> âš ï¸ **CRITICAL**: è¿™äº›è§„åˆ™å¯é˜²æ­¢è¿è¡Œæ—¶é”™è¯¯ã€‚å¼€å‘å‰å¿…è¯»ï¼
>
> **ðŸ“… æœ€åŽæ›´æ–°**: 2025-11-11
> **æ–‡æ¡£ç‰ˆæœ¬**: 3.1 (å¢žåŠ æž¶æž„åŽŸç†æ·±åº¦è§£é‡Šå’Œåæ¨¡å¼è­¦å‘Š)

---

## ðŸ“‹ ç›®å½•

1. [Python 2.7å…¼å®¹æ€§](#1-python-27å…¼å®¹æ€§)
2. [CRITICALè§„èŒƒ](#2-criticalè§„èŒƒ-å¿…è¯») âš ï¸ **å¿…è¯»**
3. [Systemå¼€å‘è§„èŒƒ](#3-systemå¼€å‘è§„èŒƒ)
4. [Componentç»„ä»¶è§„èŒƒ](#4-componentç»„ä»¶è§„èŒƒ)
5. [Eventäº‹ä»¶ç³»ç»Ÿ](#5-eventäº‹ä»¶ç³»ç»Ÿ)
6. [Entityå®žä½“ç®¡ç†](#6-entityå®žä½“ç®¡ç†)
7. [æ¨¡å—å¯¼å…¥è§„èŒƒ](#7-æ¨¡å—å¯¼å…¥è§„èŒƒ-critical) âš ï¸ **CRITICAL**
8. [å‘½åè§„èŒƒ](#8-å‘½åè§„èŒƒ)
9. [æ–‡ä»¶ç»„ç»‡](#9-æ–‡ä»¶ç»„ç»‡)
10. [æ€§èƒ½ä¼˜åŒ–å»ºè®®](#10-æ€§èƒ½ä¼˜åŒ–å»ºè®®)
11. [ç½‘æ˜“å¼•æ“Žé™åˆ¶](#11-ç½‘æ˜“å¼•æ“Žé™åˆ¶)
12. [å¸¸è§åæ¨¡å¼è­¦å‘Š](#12-å¸¸è§åæ¨¡å¼è­¦å‘Š-) âš ï¸ **NEW**

---

## 1. Python 2.7å…¼å®¹æ€§

### âš ï¸ ä¸ºä»€ä¹ˆé‡è¦ï¼Ÿ

ç½‘æ˜“æˆ‘çš„ä¸–ç•Œå¼•æ“Žä½¿ç”¨**Python 2.7**ï¼Œå¿…é¡»ä¿æŒå…¼å®¹æ€§ã€‚ä½¿ç”¨Python 3ç‰¹æ€§ä¼šå¯¼è‡´è¯­æ³•é”™è¯¯æˆ–è¿è¡Œæ—¶å´©æºƒã€‚

### å¿…é¡»éµå®ˆçš„è§„åˆ™

#### 1.1 æ–‡ä»¶ç¼–ç å£°æ˜Ž

**æ¯ä¸ªPythonæ–‡ä»¶å¼€å¤´å¿…é¡»å£°æ˜ŽUTF-8ç¼–ç **ï¼š

```python
# -*- coding: utf-8 -*-
"""æ¨¡å—è¯´æ˜Žæ–‡æ¡£å­—ç¬¦ä¸²"""
```

#### 1.2 Printå‡½æ•°

**å¿…é¡»å¯¼å…¥print_function**ï¼š

```python
# âœ… æ­£ç¡®
from __future__ import print_function

print("Hello, World!")
print("Value:", value)

# âŒ é”™è¯¯ï¼ˆPython 2.7ä¼šæŠ¥é”™ï¼‰
print "Hello, World"  # Python 2è¯­æ³•ï¼Œä½†ä¸æŽ¨è
```

#### 1.3 å­—ç¬¦ä¸²æ ¼å¼åŒ–

**ä½¿ç”¨ `.format()` è€Œéž f-strings**ï¼š

```python
# âœ… æ­£ç¡®
name = "çŽ©å®¶"
msg = "æ¬¢è¿Ž {} åŠ å…¥æ¸¸æˆ".format(name)
msg = "åæ ‡: ({}, {}, {})".format(x, y, z)

# âŒ é”™è¯¯ï¼ˆf-stringsæ˜¯Python 3.6+ç‰¹æ€§ï¼‰
msg = f"æ¬¢è¿Ž {name} åŠ å…¥æ¸¸æˆ"
```

#### 1.4 ç±»åž‹æ³¨è§£

**ä½¿ç”¨æ³¨é‡Šå½¢å¼ï¼Œä¸è¦ä½¿ç”¨Python 3è¯­æ³•**ï¼š

```python
# âœ… æ­£ç¡®
def get_player_name(player_id):
    # type: (str) -> str
    """èŽ·å–çŽ©å®¶åç§°"""
    return "PlayerName"

# âŒ é”™è¯¯ï¼ˆç±»åž‹æ³¨è§£æ˜¯Python 3ç‰¹æ€§ï¼‰
def get_player_name(player_id: str) -> str:
    return "PlayerName"
```

#### 1.5 å­—å…¸æ–¹æ³•

**æ³¨æ„å­—å…¸æ–¹æ³•åœ¨Python 2/3çš„å·®å¼‚**ï¼š

```python
# âœ… æ­£ç¡®ï¼ˆå…¼å®¹Python 2å’Œ3ï¼‰
for key in dict.keys():
    print(key)

for key, value in dict.items():
    print(key, value)

# âš ï¸ æ³¨æ„ï¼šPython 2çš„dict.iteritems()åœ¨Python 3ä¸­ä¸å­˜åœ¨
# æŽ¨èä½¿ç”¨dict.items()ï¼ˆä¸¤è€…éƒ½æ”¯æŒï¼‰
```

#### 1.6 é™¤æ³•è¿ç®—

**æ•´æ•°é™¤æ³•è¡Œä¸ºä¸åŒ**ï¼š

```python
# Python 2: 5 / 2 = 2 (æ•´æ•°é™¤æ³•)
# Python 3: 5 / 2 = 2.5 (æµ®ç‚¹é™¤æ³•)

# âœ… æ­£ç¡®ï¼ˆæ˜Žç¡®æ„å›¾ï¼‰
from __future__ import division

result = 5 / 2      # 2.5 (æµ®ç‚¹é™¤æ³•)
result = 5 // 2     # 2 (æ•´æ•°é™¤æ³•)
```

#### 1.7 å¼‚å¸¸å¤„ç†

**ä½¿ç”¨å…¼å®¹çš„å¼‚å¸¸è¯­æ³•**ï¼š

```python
# âœ… æ­£ç¡®ï¼ˆPython 2å’Œ3éƒ½æ”¯æŒï¼‰
try:
    do_something()
except Exception as e:
    print("Error:", e)

# âŒ é”™è¯¯ï¼ˆPython 2æ—§è¯­æ³•ï¼ŒPython 3ä¸æ”¯æŒï¼‰
try:
    do_something()
except Exception, e:
    print "Error:", e
```

### å…¼å®¹æ€§æ£€æŸ¥æ¸…å•

å¼€å‘æ—¶è¯·ç¡®è®¤ï¼š

- [ ] æ–‡ä»¶å¼€å¤´æœ‰ `# -*- coding: utf-8 -*-`
- [ ] å¯¼å…¥äº† `from __future__ import print_function`
- [ ] ä½¿ç”¨ `.format()` è€Œéž f-strings
- [ ] ç±»åž‹æ³¨è§£ä½¿ç”¨æ³¨é‡Šå½¢å¼ `# type: ...`
- [ ] å¼‚å¸¸å¤„ç†ä½¿ç”¨ `except ... as e` è¯­æ³•
- [ ] æ²¡æœ‰ä½¿ç”¨Python 3ä¸“æœ‰ç‰¹æ€§ï¼ˆå¦‚ `async/await`ã€`@dataclass` ç­‰ï¼‰

[â¬†ï¸ è¿”å›žç›®å½•](#ç›®å½•)

---

## 2. CRITICALè§„èŒƒ âš ï¸ å¿…è¯»

ä»¥ä¸‹è§„èŒƒè¿åä¼šå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ï¼**å¼€å‘å‰å¿…é¡»æŽŒæ¡**ã€‚

### 2.1 åŒç«¯éš”ç¦»åŽŸåˆ™ â­â­â­

**æ ¸å¿ƒé—®é¢˜**: Serverå’ŒClientè¿è¡Œåœ¨**å®Œå…¨ç‹¬ç«‹çš„è¿›ç¨‹**ä¸­ï¼Œæ— æ³•ç›´æŽ¥GetSystemè®¿é—®å¯¹æ–¹ã€‚

#### ðŸ” ä¸ºä»€ä¹ˆå¿…é¡»åŒç«¯éš”ç¦»?

ç½‘æ˜“æˆ‘çš„ä¸–ç•Œå¼•æ“Žé‡‡ç”¨**è¿›ç¨‹çº§åˆ«çš„åŒç«¯éš”ç¦»**æž¶æž„:

```
æ¸¸æˆå¯åŠ¨
  â”œâ”€â”€ æœåŠ¡å™¨è¿›ç¨‹ (DedicatedServer.exe)
  â”‚     â”œâ”€â”€ ç‹¬ç«‹çš„Pythonè§£é‡Šå™¨
  â”‚     â”œâ”€â”€ ç‹¬ç«‹çš„å†…å­˜ç©ºé—´
  â”‚     â””â”€â”€ ServerSystemå®žä¾‹
  â”‚
  â””â”€â”€ å®¢æˆ·ç«¯è¿›ç¨‹ (Minecraft.exe) x N
        â”œâ”€â”€ ç‹¬ç«‹çš„Pythonè§£é‡Šå™¨
        â”œâ”€â”€ ç‹¬ç«‹çš„å†…å­˜ç©ºé—´
        â””â”€â”€ ClientSystemå®žä¾‹
```

**å…³é”®ç‰¹æ€§**:
1. **ä¸æ˜¯åŒä¸€è¿›ç¨‹çš„ä¸åŒçº¿ç¨‹** - å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨è¿è¡Œåœ¨å®Œå…¨ç‹¬ç«‹çš„è¿›ç¨‹ä¸­
2. **æ— æ³•å…±äº«å†…å­˜** - è¿›ç¨‹ä¹‹é—´å†…å­˜éš”ç¦»,æ— æ³•è®¿é—®å½¼æ­¤çš„å˜é‡æˆ–å¯¹è±¡
3. **æ— æ³•ç›´æŽ¥è°ƒç”¨** - `GetSystem("MyMod", "ServerSystem")` åœ¨å®¢æˆ·ç«¯è¿”å›ž `None`
4. **å¿…é¡»é€šè¿‡ç½‘ç»œé€šä¿¡** - å”¯ä¸€çš„æ•°æ®äº¤æ¢æ–¹å¼æ˜¯äº‹ä»¶ç³»ç»Ÿ(åº•å±‚åŸºäºŽç½‘ç»œåè®®)

**ç±»æ¯”ç†è§£**:
- âŒ **ä¸æ˜¯**å‰ç«¯JSå’ŒåŽç«¯JSå…±äº«å…¨å±€å˜é‡ (åŒä¸€è¿›ç¨‹)
- âœ… **è€Œæ˜¯**å‰ç«¯æµè§ˆå™¨å’ŒåŽç«¯Node.jsé€šè¿‡HTTPé€šä¿¡ (ç‹¬ç«‹è¿›ç¨‹)

**è¿åæ­¤åŽŸåˆ™çš„åŽæžœ**:
```python
# âŒ æœåŠ¡ç«¯å°è¯•èŽ·å–å®¢æˆ·ç«¯System
shop_client = serverApi.GetSystem("MyMod", "ShopClient")
# shop_client = None (å› ä¸ºShopClientåœ¨å¦ä¸€ä¸ªè¿›ç¨‹ä¸­)

shop_client.OpenUI()
# AttributeError: 'NoneType' object has no attribute 'OpenUI'
# æ¸¸æˆå´©æºƒ!
```

#### âŒ ç¦æ­¢æ“ä½œ

```python
# âŒ é”™è¯¯ç¤ºä¾‹ - æœåŠ¡ç«¯ä»£ç ä¸­
class ServerSystem(ServerSystem):
    def __init__(self, namespace, systemName):
        ServerSystem.__init__(self, namespace, systemName)
        # å°è¯•èŽ·å–å®¢æˆ·ç«¯System - è¿”å›žNone!
        shop_client = serverApi.GetSystem("MyMod", "ShopClientSystem")
        shop_client.OpenUI()  # AttributeError: 'NoneType' object has no attribute 'OpenUI'
```

#### âœ… æ­£ç¡®æ–¹å¼ï¼šä½¿ç”¨åŒç«¯é€šä¿¡

```python
# âœ… æ­£ç¡® - æœåŠ¡ç«¯å‘é€äº‹ä»¶åˆ°å®¢æˆ·ç«¯
class ServerSystem(ServerSystem):
    def OpenShopForPlayer(self, playerId):
        data = self.CreateEventData()
        data["shopId"] = 1
        data["items"] = [...]
        # ä½¿ç”¨NotifyToClientå‘é€äº‹ä»¶
        self.NotifyToClient(playerId, "OpenShopUI", data)

# âœ… æ­£ç¡® - å®¢æˆ·ç«¯ç›‘å¬æœåŠ¡ç«¯äº‹ä»¶
class ClientSystem(ClientSystem):
    def Create(self):
        self.ListenForEvent(
            "MyMod",
            "MyServerSystem",
            "OpenShopUI",
            self,
            self.OnOpenShop
        )

    def OnOpenShop(self, args):
        shopId = args["shopId"]
        items = args["items"]
        # æ˜¾ç¤ºUI
```

#### åŒç«¯é€šä¿¡API

| æ–¹å‘ | API | ç”¨é€” |
|------|-----|------|
| **æœåŠ¡ç«¯â†’å®¢æˆ·ç«¯** | `self.NotifyToClient(playerId, eventName, data)` | å‘é€ç»™å•ä¸ªçŽ©å®¶ |
| **æœåŠ¡ç«¯â†’æ‰€æœ‰å®¢æˆ·ç«¯** | `self.BroadcastToAllClient(eventName, data)` | å¹¿æ’­ç»™æ‰€æœ‰çŽ©å®¶ |
| **æœåŠ¡ç«¯â†’å¤šä¸ªå®¢æˆ·ç«¯** | `self.NotifyToMultiClients([playerIds], eventName, data)` | å‘é€ç»™å¤šä¸ªçŽ©å®¶ï¼ˆæ€§èƒ½æ›´å¥½ï¼‰|
| **å®¢æˆ·ç«¯â†’æœåŠ¡ç«¯** | `self.NotifyToServer(eventName, data)` | å®¢æˆ·ç«¯å‘é€åˆ°æœåŠ¡ç«¯ |

**âš ï¸ å…³é”®ç‚¹**ï¼š
- æœåŠ¡ç«¯ç›‘å¬å®¢æˆ·ç«¯äº‹ä»¶æ—¶ï¼Œ`args`ä¼šè‡ªåŠ¨åŒ…å«`'__id__'`å­—æ®µï¼ˆå‘é€è€…çš„playerIdï¼‰
- æ•°æ®å¿…é¡»å¯åºåˆ—åŒ–ï¼ˆdictã€listã€strã€intã€floatã€boolï¼‰
- **ä¸æ”¯æŒtuple**ï¼ˆä¼šå¯¼è‡´åºåˆ—åŒ–å¤±è´¥ï¼‰ âš ï¸

---

### 2.2 Systemç”Ÿå‘½å‘¨æœŸé™åˆ¶ â­â­â­

**æ ¸å¿ƒé—®é¢˜**: ç½‘æ˜“å¼•æ“Žä¸ä¼šè‡ªåŠ¨è°ƒç”¨`Create()`ï¼Œå¿…é¡»åœ¨`__init__`ä¸­æ‰‹åŠ¨è°ƒç”¨ã€‚

#### ðŸ” ä¸ºä»€ä¹ˆ`__init__`ä¸­APIä¸å¯ç”¨?

ç½‘æ˜“å¼•æ“Žçš„Systemåˆå§‹åŒ–æµç¨‹åˆ†ä¸º**å¤šä¸ªé˜¶æ®µ**:

```
æ¸¸æˆå¯åŠ¨
  â†“
[é˜¶æ®µ1] åŠ è½½Modé…ç½® (modConfig.py)
  â†“
[é˜¶æ®µ2] å®žä¾‹åŒ–æ‰€æœ‰System (__init__)  â† æ­¤æ—¶APIä¸å¯ç”¨
  |      â”œâ”€â”€ MyServerSystem.__init__()
  |      â”œâ”€â”€ ShopSystem.__init__()
  |      â””â”€â”€ ... (æ‰€æœ‰Systemçš„__init__æŒ‰é¡ºåºæ‰§è¡Œ)
  â†“
[é˜¶æ®µ3] å¼•æ“Žå®ŒæˆComponentæ³¨å†Œ
  |      â”œâ”€â”€ æ³¨å†Œ Minecraft:attr
  |      â”œâ”€â”€ æ³¨å†Œ Minecraft:item
  |      â””â”€â”€ ... (æ‰€æœ‰Componentå‡†å¤‡å°±ç»ª)
  â†“
[é˜¶æ®µ4] System.Create() è¢«è°ƒç”¨  â† æ­¤æ—¶APIå¯ç”¨
  |      â”œâ”€â”€ MyServerSystem.Create()
  |      â””â”€â”€ ShopSystem.Create()
  â†“
[é˜¶æ®µ5] è¿›å…¥Updateå¾ªçŽ¯
```

**ä¸ºä»€ä¹ˆé˜¶æ®µ2æ—¶APIä¸å¯ç”¨?**
1. **Componentå°šæœªæ³¨å†Œ** - `GetEngineCompFactory().CreateGame()` ä¾èµ–Componentæ³¨å†Œè¡¨
2. **Entityç³»ç»Ÿæœªå°±ç»ª** - å®žä½“ç®¡ç†å™¨å°šæœªåˆå§‹åŒ–
3. **äº‹ä»¶ç³»ç»Ÿæœªå®Œå–„** - æŸäº›å¼•æ“Žäº‹ä»¶å°šæœªæ³¨å†Œ

**ç±»æ¯”ç†è§£**:
- âŒ **ä¸æ˜¯** Spring Beançš„æž„é€ å‡½æ•°å’Œ`@PostConstruct`éƒ½å¯ç”¨
- âœ… **è€Œæ˜¯** æž„é€ å‡½æ•°åªèƒ½å£°æ˜Žå˜é‡,`@PostConstruct`æ‰èƒ½æ³¨å…¥ä¾èµ–

#### âŒ ç¦æ­¢æ“ä½œ

```python
# âŒ é”™è¯¯ç¤ºä¾‹ - åœ¨__init__ä¸­è°ƒç”¨API
class MySystem(ServerSystem):
    def __init__(self, namespace, systemName):
        ServerSystem.__init__(self, namespace, systemName)
        # âŒ æ­¤æ—¶Componentæ³¨å†Œè¡¨æœªå°±ç»ª!
        self.gameComp = serverApi.GetEngineCompFactory().CreateGame(levelId)  # è¿”å›žNone!
        # âŒ æ­¤æ—¶äº‹ä»¶ç³»ç»Ÿæœªå®Œå–„!
        self.ListenForEvent(...)  # å¯èƒ½å¤±è´¥
```

**åŽæžœ**:
- `GetComponent` è¿”å›ž `None`
- äº‹ä»¶ç›‘å¬å¤±è´¥,å›žè°ƒæ°¸è¿œä¸ä¼šè¢«è§¦å‘
- Systemæ— æ³•æ­£å¸¸å·¥ä½œ,å¯¼è‡´åŠŸèƒ½ç¼ºå¤±

#### âœ… æ­£ç¡®æ–¹å¼ï¼šæ‰‹åŠ¨è°ƒç”¨Create()

```python
# âœ… æ­£ç¡®ç¤ºä¾‹
import mod.server.extraServerApi as serverApi
ServerSystem = serverApi.GetServerSystemCls()

class MySystem(ServerSystem):
    def __init__(self, namespace, systemName):
        ServerSystem.__init__(self, namespace, systemName)

        # 1. åªå£°æ˜Žæˆå‘˜å˜é‡
        self.gameComp = None
        self.players = {}

        # 2. âš ï¸ CRITICAL: æ‰‹åŠ¨è°ƒç”¨Create()
        # åŽŸå› : ç½‘æ˜“å¼•æ“Žåªè‡ªåŠ¨è°ƒç”¨Destroy()ï¼Œä¸è‡ªåŠ¨è°ƒç”¨Create()
        self.Create()

    def Create(self):
        """âœ… å®‰å…¨çš„åˆå§‹åŒ–ä½ç½®"""
        # 3. åœ¨è¿™é‡ŒèŽ·å–ç»„ä»¶/å®žä½“
        levelId = serverApi.GetLevelId()
        compFactory = serverApi.GetEngineCompFactory()
        self.gameComp = compFactory.CreateGame(levelId)

        # 4. æ³¨å†Œäº‹ä»¶ç›‘å¬
        self.ListenForEvent(
            serverApi.GetEngineNamespace(),
            serverApi.GetEngineSystemName(),
            "ServerPlayerJoinEvent",
            self,
            self.OnPlayerJoin
        )

    def Destroy(self):
        """å¼•æ“Žè‡ªåŠ¨è°ƒç”¨"""
        # 5. æ¸…ç†èµ„æº
        self.UnListenAllEvents()
        self.players.clear()
```

**åŽŸå› **: `__init__`æ—¶æ¸¸æˆå¼•æ“Žæœªå®Œæˆåˆå§‹åŒ–ï¼Œå®žä½“/ç»„ä»¶æœªæ³¨å†Œï¼Œè°ƒç”¨APIä¼šå¤±è´¥ã€‚

---

### 2.3 EventDataåºåˆ—åŒ–é™åˆ¶ â­â­

**æ ¸å¿ƒé—®é¢˜**: `CreateEventData()`è¿”å›žçš„dictä¸æ”¯æŒtupleç±»åž‹ã€‚

#### âŒ ç¦æ­¢æ“ä½œ

```python
# âŒ é”™è¯¯ç¤ºä¾‹
data = self.CreateEventData()
data["position"] = (100, 64, 100)  # tupleä¼šå¯¼è‡´åºåˆ—åŒ–å¤±è´¥!
self.NotifyToClient(playerId, "TeleportEvent", data)  # å¤±è´¥!
```

#### âœ… æ­£ç¡®æ–¹å¼ï¼šä½¿ç”¨list

```python
# âœ… æ­£ç¡®ç¤ºä¾‹
data = self.CreateEventData()
data["position"] = [100, 64, 100]  # ä½¿ç”¨list
data["items"] = [{"id": 1}, {"id": 2}]  # åµŒå¥—dictå’Œlistå¯ä»¥
self.NotifyToClient(playerId, "TeleportEvent", data)  # æˆåŠŸ
```

**æ”¯æŒçš„æ•°æ®ç±»åž‹**:
- âœ… dict
- âœ… list
- âœ… str
- âœ… int, float, bool
- âŒ tupleï¼ˆä¸æ”¯æŒï¼ï¼‰
- âŒ å¯¹è±¡å®žä¾‹ï¼ˆä¸æ”¯æŒï¼ï¼‰

---

### 2.4 AOIæ„Ÿåº”åŒºèŒƒå›´é™åˆ¶

**æ ¸å¿ƒé—®é¢˜**: AOIæ„Ÿåº”åŒºé•¿å®½ä¸èƒ½è¶…è¿‡2000æ ¼ã€‚

```python
# âœ… æ­£ç¡®
dimComp.CreateEntityAOI(
    dimension=0,
    name="safe_zone",
    aabb=(0, 0, 0, 1000, 256, 1000),  # é•¿å®½1000æ ¼ï¼Œå¯ä»¥
    func=self.OnEntityEnter
)

# âŒ é”™è¯¯
dimComp.CreateEntityAOI(
    dimension=0,
    name="huge_zone",
    aabb=(0, 0, 0, 3000, 256, 3000),  # é•¿å®½3000æ ¼ï¼Œè¶…è¿‡é™åˆ¶!
    func=self.OnEntityEnter
)
```

---

### 2.5 Pythonæ¨¡å—ç™½åå•é™åˆ¶ â­â­â­ (NEW)

**æ ¸å¿ƒé—®é¢˜**: ä»Ž2.9ç‰ˆæœ¬èµ·ï¼Œç½‘æ˜“å¹³å°å¼ºåˆ¶æ£€æµ‹Pythonæ¨¡å—ç™½åå•ï¼Œ**è¿è§„æ¨¡å—ä¼šå¯¼è‡´MODå®¡æ ¸å¤±è´¥**ã€‚

#### ðŸ” ä¸ºä»€ä¹ˆæœ‰ç™½åå•é™åˆ¶?

ç½‘æ˜“å¹³å°å‡çº§äº†å®‰å…¨æ£€æµ‹æœºåˆ¶ï¼š
- **å®‰å…¨åŽŸå› **: æŸäº›Pythonæ¨¡å—å¯èƒ½æ¶‰åŠæ–‡ä»¶ç³»ç»Ÿæ“ä½œã€ç½‘ç»œè®¿é—®ã€è¿›ç¨‹æŽ§åˆ¶ç­‰å±é™©æ“ä½œ
- **æ€§èƒ½åŽŸå› **: é™åˆ¶ä½¿ç”¨å¯èƒ½å½±å“æ¸¸æˆæ€§èƒ½çš„æ¨¡å—
- **å®¡æ ¸æœºåˆ¶**: 2.9ç‰ˆæœ¬èµ·è‡ªåŠ¨æ£€æµ‹ï¼Œè¿è§„æ¨¡å—ä¼šè¢«æ‹’ç»ä¸Šæž¶

#### âŒ ç¦æ­¢æ“ä½œ

```python
# âŒ é”™è¯¯ - osæ¨¡å—ä¸åœ¨ç™½åå•
import os
logPath = os.path.join(os.path.dirname(__file__), 'logs', 'debug.log')
# å®¡æ ¸å¤±è´¥: "ä½¿ç”¨äº†éžç™½åå•æ¨¡å—: os"

# âŒ é”™è¯¯ - gcæ¨¡å—ä¸åœ¨ç™½åå•
import gc
obj_count = len(gc.get_objects())
# å®¡æ ¸å¤±è´¥: "ä½¿ç”¨äº†éžç™½åå•æ¨¡å—: gc"

# âŒ é”™è¯¯ - sysæ¨¡å—ä¸åœ¨ç™½åå•
import sys
sys.exit(0)
# å®¡æ ¸å¤±è´¥: "ä½¿ç”¨äº†éžç™½åå•æ¨¡å—: sys"
```

#### âœ… æ­£ç¡®æ–¹å¼ï¼šä½¿ç”¨ç™½åå•æ¨¡å—

**å¸¸ç”¨ç™½åå•æ¨¡å—**:

| ç±»åˆ« | ç™½åå•æ¨¡å— | ç”¨é€” |
|------|-----------|------|
| **æ ‡å‡†åº“** | `json`, `time`, `math`, `random` | æ•°æ®å¤„ç†ã€æ—¶é—´ã€æ•°å­¦è®¡ç®— |
| **ç¼–ç ** | `base64`, `hashlib`, `zlib` | ç¼–ç /è§£ç ã€å“ˆå¸Œã€åŽ‹ç¼© |
| **æ•°æ®ç»“æž„** | `collections`, `heapq`, `bisect` | é«˜çº§æ•°æ®ç»“æž„ |
| **å·¥å…·** | `copy`, `functools`, `itertools` | å¯¹è±¡å¤åˆ¶ã€å‡½æ•°å¼ç¼–ç¨‹ |
| **å­—ç¬¦ä¸²** | `re`, `string`, `datetime` | æ­£åˆ™è¡¨è¾¾å¼ã€å­—ç¬¦ä¸²å¤„ç† |
| **MODSDK** | `mod.server.*`, `mod.client.*`, `mod.common.*` | ç½‘æ˜“å®˜æ–¹API |
| **ECPreset** | `Preset.*` | ECPresetæ¡†æž¶ |

**âš ï¸ å¸¸è§éžç™½åå•æ¨¡å—**:
- âŒ `os` - æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
- âŒ `gc` - åžƒåœ¾å›žæ”¶æŽ§åˆ¶
- âŒ `sys` - ç³»ç»Ÿå‚æ•°å’Œå‡½æ•°
- âŒ `subprocess` - å­è¿›ç¨‹ç®¡ç†
- âŒ `socket` - ç½‘ç»œç¼–ç¨‹
- âŒ `pickle` - Pythonå¯¹è±¡åºåˆ—åŒ–
- âŒ `threading` çš„éƒ¨åˆ†åŠŸèƒ½ï¼ˆ`threading`æœ¬èº«åœ¨ç™½åå•ï¼Œä½†éƒ¨åˆ†é«˜çº§åŠŸèƒ½å—é™ï¼‰

#### ðŸ’¡ æ›¿ä»£æ–¹æ¡ˆç¤ºä¾‹

**åœºæ™¯1: æ–‡ä»¶è·¯å¾„æ“ä½œï¼ˆæ›¿ä»£ `os.path`ï¼‰**
```python
# âŒ é”™è¯¯ - ä½¿ç”¨osæ¨¡å—
import os
logPath = os.path.join(os.path.dirname(__file__), 'logs', 'debug.log')

# âœ… æ­£ç¡® - ä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æŽ¥
logPath = 'logs/debug.log'  # ä½¿ç”¨å›ºå®šç›¸å¯¹è·¯å¾„

# âœ… æ­£ç¡® - ä½¿ç”¨posixpathï¼ˆåœ¨ç™½åå•å†…ï¼‰
import posixpath
logPath = posixpath.join('logs', 'debug.log')
```

**åœºæ™¯2: å†…å­˜ç®¡ç†ï¼ˆæ›¿ä»£ `gc`ï¼‰**
```python
# âŒ é”™è¯¯ - ä½¿ç”¨gcæ¨¡å—
import gc
obj_count = len(gc.get_objects())

# âœ… æ­£ç¡® - æ‰‹åŠ¨ç®¡ç†å†…å­˜
class MySystem(ServerSystem):
    def __init__(self, namespace, systemName):
        ServerSystem.__init__(self, namespace, systemName)
        self.cache = {}  # æ‰‹åŠ¨ç®¡ç†ç¼“å­˜

    def Update(self):
        # å®šæœŸæ¸…ç†ç¼“å­˜ï¼Œé¿å…å†…å­˜æ³„æ¼
        if self.tickCount % 100 == 0:
            self._CleanupCache()

    def _CleanupCache(self):
        # æ¸…ç†ç¦»çº¿çŽ©å®¶ç¼“å­˜
        online_players = set(serverApi.GetPlayerList())
        cached_players = set(self.cache.keys())
        for player_id in (cached_players - online_players):
            del self.cache[player_id]

    def Destroy(self):
        # ç³»ç»Ÿé”€æ¯æ—¶æ¸…ç†æ‰€æœ‰èµ„æº
        self.cache.clear()
        self.cache = None
```

#### ðŸ“‹ å¦‚ä½•æŸ¥è¯¢ç™½åå•

**æ–¹æ³•1: æŸ¥é˜…å®˜æ–¹æ–‡æ¡£**
```
è·¯å¾„: .claude/docs/modsdk-wiki/mcguide/36-å®¡æ ¸ä¸Žä¸‹æž¶/è¯¾ç¨‹07-Pythonæ¨¡å—ç™½åå•.md
æˆ–åœ¨çº¿æŸ¥çœ‹: https://mc.163.com/dev/mcmanual/mc-dev/mcguide/36-å®¡æ ¸ä¸Žä¸‹æž¶/è¯¾ç¨‹07-Pythonæ¨¡å—ç™½åå•.html
```

**æ–¹æ³•2: ä½¿ç”¨AIå·¥å…·æŸ¥è¯¢**
```
åœ¨Claude Codeä¸­æ‰§è¡Œ:
/mc "æ£€æŸ¥ xxx æ¨¡å—æ˜¯å¦åœ¨ç™½åå•"
```

**æ–¹æ³•3: è”ç³»å®˜æ–¹ç”³è¯·æ–°æ¨¡å—**
- é€šè¿‡å¼€å‘è€…å¹³å°åé¦ˆ: https://mcdev.webapp.163.com/#/feedbackModal
- åŠ å…¥å¼€å‘è€…QQé¢‘é“ç§ä¿¡ç®¡ç†å‘˜

#### âš ï¸ ç”¨æˆ·è‡ªå®šä¹‰æ¨¡å—ä¸å—é™åˆ¶

æ ¹æ®å®˜æ–¹æ–‡æ¡£è¯´æ˜Žï¼š
> **è¯¥é™åˆ¶ä¸åŒ…æ‹¬å¼€å‘è€…è‡ªå®šä¹‰çš„æ¨¡å—å’ŒæŽ¥å£**

ä»¥ä¸‹å¯¼å…¥**å®Œå…¨åˆè§„**:
```python
# âœ… æ­£ç¡® - ç”¨æˆ·è‡ªå®šä¹‰æ¨¡å—
from MyMod.config.game_config import GAME_CONFIG
from MyMod.systems.ShopSystem import ShopSystem
from MyMod.utils.math_helper import calculate_distance
```

**å…³é”®ç‚¹**:
- è‡ªå®šä¹‰æ¨¡å—å¿…é¡»å±žäºŽä½ çš„MODå‘½åç©ºé—´ï¼ˆå¦‚ `MyMod.*`ï¼‰
- ä¸è¦ä½¿ç”¨æ ¹çº§å¯¼å…¥ï¼ˆå¦‚ `import config`ï¼‰ï¼Œåº”ä½¿ç”¨å®Œæ•´è·¯å¾„ï¼ˆå¦‚ `from MyMod.config import ...`ï¼‰

#### æ£€æŸ¥æ¸…å•

åœ¨MODä¸Šæž¶å®¡æ ¸å‰ï¼Œè¯·ç¡®è®¤ï¼š
- [ ] æ‰€æœ‰ `import` è¯­å¥åªä½¿ç”¨ç™½åå•æ¨¡å—
- [ ] æ²¡æœ‰ä½¿ç”¨ `os`, `gc`, `sys`, `subprocess` ç­‰éžç™½åå•æ¨¡å—
- [ ] è‡ªå®šä¹‰æ¨¡å—ä½¿ç”¨å®Œæ•´å‘½åç©ºé—´è·¯å¾„ï¼ˆå¦‚ `MyMod.xxx`ï¼‰
- [ ] ä½¿ç”¨Grepæ‰«æä»£ç : `Grep("^import |^from .* import", path="behavior_packs/")`

[â¬†ï¸ è¿”å›žç›®å½•](#ç›®å½•)

---

## 3. Systemå¼€å‘è§„èŒƒ

### 3.1 æ ‡å‡†Systemæ¨¡æ¿

**ServerSystemæ ‡å‡†æ¨¡æ¿**:

```python
# -*- coding: utf-8 -*-
"""ç³»ç»Ÿè¯´æ˜Ž
åŠŸèƒ½: XXX
è´Ÿè´£: YYY
"""

from __future__ import print_function
import mod.server.extraServerApi as serverApi
ServerSystem = serverApi.GetServerSystemCls()

class MyServerSystem(ServerSystem):
    def __init__(self, namespace, systemName):
        """åˆå§‹åŒ–System"""
        ServerSystem.__init__(self, namespace, systemName)

        # 1. å£°æ˜Žæˆå‘˜å˜é‡
        self.gameComp = None
        self.players = {}
        self.tickCount = 0

        # 2. âš ï¸ æ‰‹åŠ¨è°ƒç”¨Create()
        self.Create()

    def Create(self):
        """ç³»ç»Ÿåˆ›å»ºæ—¶çš„åˆå§‹åŒ–é€»è¾‘ï¼ˆæ‰‹åŠ¨è°ƒç”¨ï¼‰"""
        print("[MyServerSystem] Create() è¢«è°ƒç”¨")

        # 3. èŽ·å–ç»„ä»¶
        levelId = serverApi.GetLevelId()
        compFactory = serverApi.GetEngineCompFactory()
        self.gameComp = compFactory.CreateGame(levelId)

        # 4. ç›‘å¬äº‹ä»¶
        self.ListenForEvent(
            serverApi.GetEngineNamespace(),
            serverApi.GetEngineSystemName(),
            "ServerPlayerJoinEvent",
            self,
            self.OnPlayerJoin
        )

    def Update(self):
        """æ¸¸æˆå¾ªçŽ¯ - æ¯ç§’20æ¬¡ï¼ˆæ¯tickè°ƒç”¨ï¼‰"""
        self.tickCount += 1

        # æ¯100 tickï¼ˆ5ç§’ï¼‰æ‰§è¡Œä¸€æ¬¡
        if self.tickCount % 100 == 0:
            self.DoPeriodicTask()

    def Destroy(self):
        """ç³»ç»Ÿé”€æ¯æ—¶è‡ªåŠ¨è¢«å¼•æ“Žè°ƒç”¨"""
        print("[MyServerSystem] Destroy() è¢«è°ƒç”¨")

        # 5. æ¸…ç†èµ„æº
        self.UnListenAllEvents()
        self.players.clear()

    def OnPlayerJoin(self, args):
        """äº‹ä»¶å›žè°ƒ"""
        playerId = args['playerId']
        print("[MyServerSystem] çŽ©å®¶åŠ å…¥:", playerId)
        self.players[playerId] = {}

    def DoPeriodicTask(self):
        """å®šæ—¶ä»»åŠ¡"""
        pass
```

**ClientSystemæ ‡å‡†æ¨¡æ¿**:

```python
# -*- coding: utf-8 -*-
"""å®¢æˆ·ç«¯ç³»ç»Ÿè¯´æ˜Ž
åŠŸèƒ½: XXX
è´Ÿè´£: UIæ˜¾ç¤ºã€è§†è§‰æ•ˆæžœ
"""

from __future__ import print_function
import mod.client.extraClientApi as clientApi
ClientSystem = clientApi.GetClientSystemCls()

class MyClientSystem(ClientSystem):
    def __init__(self, namespace, systemName):
        ClientSystem.__init__(self, namespace, systemName)

        self.uiComp = None
        self.Create()

    def Create(self):
        """åˆå§‹åŒ–"""
        print("[MyClientSystem] Create() è¢«è°ƒç”¨")

        # èŽ·å–UIç»„ä»¶
        self.uiComp = self.GetComponent("Minecraft", "ui")

        # ç›‘å¬æœåŠ¡ç«¯äº‹ä»¶
        self.ListenForEvent(
            "MyMod",
            "MyServerSystem",
            "UpdateUI",
            self,
            self.OnUpdateUI
        )

    def Destroy(self):
        """æ¸…ç†"""
        self.UnListenAllEvents()

    def OnUpdateUI(self, args):
        """æœåŠ¡ç«¯äº‹ä»¶å›žè°ƒ"""
        data = args["data"]
        # æ›´æ–°UIæ˜¾ç¤º
```

### 3.2 Systemç”Ÿå‘½å‘¨æœŸæ–¹æ³•

| æ–¹æ³• | è°ƒç”¨æ—¶æœº | æ˜¯å¦è‡ªåŠ¨è°ƒç”¨ | ç”¨é€” |
|------|---------|------------|------|
| `__init__()` | Systemå®žä¾‹åŒ–æ—¶ | âœ… è‡ªåŠ¨ | å£°æ˜Žå˜é‡ï¼Œæ‰‹åŠ¨è°ƒç”¨Create() |
| `Create()` | Systemåˆå§‹åŒ–æ—¶ | âŒ éœ€æ‰‹åŠ¨è°ƒç”¨ | èŽ·å–ç»„ä»¶ã€æ³¨å†Œäº‹ä»¶ã€åŠ è½½é…ç½® |
| `Update()` | æ¯tick | âœ… è‡ªåŠ¨ | æ¸¸æˆå¾ªçŽ¯é€»è¾‘ï¼ˆæ¯ç§’20æ¬¡ï¼‰|
| `Destroy()` | Systemé”€æ¯æ—¶ | âœ… è‡ªåŠ¨ | å–æ¶ˆç›‘å¬ã€æ¸…ç†èµ„æº |

### 3.3 Systemæ³¨å†Œ

**modConfig.pyé…ç½®**:

```python
# -*- coding: utf-8 -*-
"""æ¨¡ç»„é…ç½®æ–‡ä»¶"""

MOD_NAME = "MyMod"
MOD_VERSION = "1.0.0"

# æœåŠ¡ç«¯Systemåˆ—è¡¨
SERVER_SYSTEMS = [
    ("MyServerSystem", "MyMod.systems.MyServerSystem.MyServerSystem"),
]

# å®¢æˆ·ç«¯Systemåˆ—è¡¨
CLIENT_SYSTEMS = [
    ("MyClientSystem", "MyMod.systems.MyClientSystem.MyClientSystem"),
]
```

**modMain.pyæ³¨å†Œ**:

```python
from mod.common.mod import Mod
import mod.server.extraServerApi as serverApi
import mod.client.extraClientApi as clientApi
from modConfig import MOD_NAME, MOD_VERSION, SERVER_SYSTEMS, CLIENT_SYSTEMS

@Mod.Binding(name=MOD_NAME, version=MOD_VERSION)
class MyMod(object):

    @Mod.InitServer()
    def ServerInit(self):
        for systemName, systemPath in SERVER_SYSTEMS:
            serverApi.RegisterSystem(MOD_NAME, systemName, systemPath)

    @Mod.InitClient()
    def ClientInit(self):
        for systemName, systemPath in CLIENT_SYSTEMS:
            clientApi.RegisterSystem(MOD_NAME, systemName, systemPath)
```

[â¬†ï¸ è¿”å›žç›®å½•](#ç›®å½•)

---

## 4. Componentç»„ä»¶è§„èŒƒ

### 4.1 å¼•æ“Žç»„ä»¶ä½¿ç”¨

```python
def Create(self):
    """åœ¨Createä¸­èŽ·å–ç»„ä»¶"""
    levelId = serverApi.GetLevelId()
    playerId = "çŽ©å®¶ID"

    compFactory = serverApi.GetEngineCompFactory()

    # å¸¸ç”¨ç»„ä»¶
    self.gameComp = compFactory.CreateGame(levelId)        # æ¸¸æˆç®¡ç†
    self.itemComp = compFactory.CreateItem(playerId)       # ç‰©å“æ“ä½œ
    self.attrComp = compFactory.CreateAttr(playerId)       # å±žæ€§ç®¡ç†
    self.posComp = compFactory.CreatePos(playerId)         # ä½ç½®æŽ§åˆ¶
    self.dimComp = compFactory.CreateDimension(levelId)    # ç»´åº¦ç®¡ç†
```

### 4.2 è‡ªå®šä¹‰ç»„ä»¶å¼€å‘

**å®šä¹‰ç»„ä»¶**:

```python
# components/MyComponent.py
from mod.server.component import ServerComponent

class MyComponent(ServerComponent):
    def __init__(self, entityId):
        ServerComponent.__init__(self, entityId)
        self.customData = {}

    def GetData(self):
        return self.customData

    def SetData(self, data):
        self.customData = data
```

**æ³¨å†Œç»„ä»¶**:

```python
@Mod.InitServer()
def ServerInit(self):
    serverApi.RegisterComponent(
        "MyMod",
        "MyComponent",
        "MyMod.components.MyComponent.MyComponent"
    )
```

**ä½¿ç”¨ç»„ä»¶**:

```python
comp = serverApi.CreateComponent(entityId, "MyMod", "MyComponent")
comp.SetData({"key": "value"})
```

[â¬†ï¸ è¿”å›žç›®å½•](#ç›®å½•)

---

## 5. Eventäº‹ä»¶ç³»ç»Ÿ

### 5.1 ç›‘å¬å¼•æ“Žäº‹ä»¶

```python
def Create(self):
    """ç›‘å¬æ¸¸æˆåŽŸç”Ÿäº‹ä»¶"""
    # æ–¹å¼1: ä½¿ç”¨å‘½åç©ºé—´å’Œç³»ç»Ÿå
    self.ListenForEvent(
        serverApi.GetEngineNamespace(),     # "Minecraft"
        serverApi.GetEngineSystemName(),    # "serverSystem"
        "ServerPlayerJoinEvent",            # äº‹ä»¶å
        self,                               # å›žè°ƒå¯¹è±¡
        self.OnPlayerJoin,                  # å›žè°ƒå‡½æ•°
        priority=0                          # ä¼˜å…ˆçº§(0-10ï¼Œè¶Šå¤§è¶Šæ—©)
    )

def OnPlayerJoin(self, args):
    """äº‹ä»¶å›žè°ƒ

    args = {
        'playerId': str,
        'username': str,
        ...
    }
    """
    playerId = args['playerId']
    print("çŽ©å®¶åŠ å…¥:", playerId)
    return True  # è¿”å›žFalseå¯ä»¥é˜»æ­¢åŽç»­ç›‘å¬å™¨æ‰§è¡Œ
```

### 5.2 äº‹ä»¶ä¼˜å…ˆçº§æœºåˆ¶

```python
def Create(self):
    # é«˜ä¼˜å…ˆçº§ç›‘å¬å™¨ï¼ˆå…ˆæ‰§è¡Œï¼‰
    self.ListenForEvent(
        serverApi.GetEngineNamespace(),
        serverApi.GetEngineSystemName(),
        "ServerChatEvent",
        self,
        self.OnChatCheck,
        priority=10  # æœ€é«˜ä¼˜å…ˆçº§ï¼Œç”¨äºŽæ£€æŸ¥/æ‹¦æˆª
    )

    # é»˜è®¤ä¼˜å…ˆçº§ç›‘å¬å™¨ï¼ˆåŽæ‰§è¡Œï¼‰
    self.ListenForEvent(
        serverApi.GetEngineNamespace(),
        serverApi.GetEngineSystemName(),
        "ServerChatEvent",
        self,
        self.OnChatProcess,
        priority=0  # é»˜è®¤ä¼˜å…ˆçº§
    )

def OnChatCheck(self, args):
    """ä¼˜å…ˆæ‰§è¡Œ - å¯ä»¥æ‹¦æˆªäº‹ä»¶"""
    if "ç¦è¨€è¯" in args['message']:
        return False  # é˜»æ­¢åŽç»­ç›‘å¬å™¨æ‰§è¡Œ
    return True

def OnChatProcess(self, args):
    """åŽæ‰§è¡Œ - æ­£å¸¸å¤„ç†"""
    print("èŠå¤©:", args['message'])
```

### 5.3 è‡ªå®šä¹‰äº‹ä»¶

**å®šä¹‰äº‹ä»¶**:

```python
def Create(self):
    # å®šä¹‰è‡ªå®šä¹‰äº‹ä»¶
    self.DefineEvent("MyCustomEvent")
```

**å¹¿æ’­äº‹ä»¶**:

```python
def TriggerCustomEvent(self):
    data = self.CreateEventData()
    data["param1"] = 123
    data["param2"] = "abc"
    # æœ¬ç«¯å¹¿æ’­
    self.BroadcastEvent("MyCustomEvent", data)
```

**ç›‘å¬è‡ªå®šä¹‰äº‹ä»¶**:

```python
def Create(self):
    self.ListenForEvent(
        "MyMod",
        "MyServerSystem",
        "MyCustomEvent",
        self,
        self.OnCustomEvent
    )

def OnCustomEvent(self, args):
    param1 = args["param1"]
    param2 = args["param2"]
```

### 5.4 åŒç«¯äº‹ä»¶é€šä¿¡è¯¦è§£

**æœåŠ¡ç«¯â†’å®¢æˆ·ç«¯**:

```python
# å‘é€ç»™å•ä¸ªå®¢æˆ·ç«¯
def NotifyClient(self, playerId):
    data = self.CreateEventData()
    data["message"] = "Hello"
    self.NotifyToClient(playerId, "UpdateUI", data)

# å¹¿æ’­ç»™æ‰€æœ‰å®¢æˆ·ç«¯
def BroadcastAll(self):
    data = self.CreateEventData()
    data["message"] = "Global Announcement"
    self.BroadcastToAllClient("GlobalMessage", data)

# å‘é€ç»™å¤šä¸ªå®¢æˆ·ç«¯ï¼ˆæ€§èƒ½ä¼˜äºŽå¾ªçŽ¯NotifyToClientï¼‰
def NotifyMultiple(self, playerIds):
    data = self.CreateEventData()
    data["message"] = "Team Message"
    self.NotifyToMultiClients(playerIds, "TeamMessage", data)
```

**å®¢æˆ·ç«¯â†’æœåŠ¡ç«¯**:

```python
# å®¢æˆ·ç«¯å‘é€
def SendToServer(self):
    data = self.CreateEventData()
    data["action"] = "buy"
    data["itemId"] = 1
    self.NotifyToServer("PurchaseRequest", data)

# æœåŠ¡ç«¯ç›‘å¬ï¼ˆargsä¼šè‡ªåŠ¨åŒ…å«'__id__'å­—æ®µï¼‰
def Create(self):
    self.ListenForEvent(
        "MyMod",
        "MyClientSystem",
        "PurchaseRequest",
        self,
        self.OnPurchase
    )

def OnPurchase(self, args):
    playerId = args['__id__']  # âš ï¸ è‡ªåŠ¨åŒ…å«å‘é€è€…ID
    action = args['action']
    itemId = args['itemId']
    print("çŽ©å®¶{}è¯·æ±‚è´­ä¹°ç‰©å“{}".format(playerId, itemId))
```

[â¬†ï¸ è¿”å›žç›®å½•](#ç›®å½•)

---

## 6. Entityå®žä½“ç®¡ç†

### 6.1 åˆ›å»ºå®žä½“

**æœåŠ¡ç«¯åˆ›å»ºå®žä½“ï¼ˆä¼šåŒæ­¥åˆ°æ‰€æœ‰å®¢æˆ·ç«¯ï¼‰**:

```python
def CreateServerEntity(self):
    """æœåŠ¡ç«¯åˆ›å»ºå®žä½“ - æ‰€æœ‰å®¢æˆ·ç«¯å¯è§"""
    entityId = self.CreateEngineEntityByTypeStr(
        'minecraft:zombie',      # identifier
        (0, 10, 0),             # pos (x, y, z)
        (0, 0),                 # rotation (pitch, yaw)
        0,                      # dimensionId (0=ä¸»ä¸–ç•Œ, 1=åœ°ç‹±, 2=æœ«åœ°)
        False,                  # isNpc
        False                   # isGlobal (å…¨å±€å®žä½“ä¸ä¼šè¢«å¸è½½)
    )
    return entityId
```

**å®¢æˆ·ç«¯åˆ›å»ºå®žä½“ï¼ˆä»…æœ¬åœ°å¯è§ï¼‰**:

```python
def CreateClientEntity(self):
    """å®¢æˆ·ç«¯åˆ›å»ºå®žä½“ - ä»…æœ¬åœ°å®¢æˆ·ç«¯å¯è§"""
    entityId = self.CreateClientEntityByTypeStr(
        'minecraft:armor_stand',
        (0, 5, 0),
        (0, 0)
    )
    return entityId
```

### 6.2 å®žä½“æ“ä½œ

```python
# æ£€æŸ¥å®žä½“æ˜¯å¦å­˜æ´»
alive = self.gameComp.IsEntityAlive(entityId)

# é”€æ¯å®žä½“
self.DestroyEntity(entityId)

# èŽ·å–æ‰€æœ‰å®žä½“
entityDicts = serverApi.GetEngineActor()  # {entityId: {dimensionId, identifier}}

# èŽ·å–çŽ©å®¶åˆ—è¡¨
playerIds = serverApi.GetPlayerList()
```

### 6.3 AOIæ„Ÿåº”åŒº

```python
def Create(self):
    """æ³¨å†Œæ„Ÿåº”åŒº"""
    compFactory = serverApi.GetEngineCompFactory()
    dimComp = compFactory.CreateDimension(levelId)

    # åˆ›å»ºæ„Ÿåº”åŒº
    dimComp.CreateEntityAOI(
        dimension=0,                    # ä¸»ä¸–ç•Œ
        name="safe_zone",               # æ„Ÿåº”åŒºåç§°
        aabb=(0, 0, 0, 100, 256, 100),  # èŒƒå›´(minX,minY,minZ,maxX,maxY,maxZ)
        func=self.OnEntityEnterOrLeave  # å›žè°ƒå‡½æ•°
    )

def OnEntityEnterOrLeave(self, args):
    """æ„Ÿåº”åŒºå›žè°ƒ

    args = {
        'AOIName': 'safe_zone',
        'entityType': int,
        'pos': (x, y, z),      # ä»…è¿›å…¥æ—¶æœ‰
        'dimension': 0,
        'entityId': str,
        'identifier': str,
        'isEnter': bool        # True=è¿›å…¥, False=ç¦»å¼€
    }
    """
    if args['isEnter']:
        print("å®žä½“{}è¿›å…¥å®‰å…¨åŒº".format(args['entityId']))
    else:
        print("å®žä½“{}ç¦»å¼€å®‰å…¨åŒº".format(args['entityId']))
```

**âš ï¸ AOIé™åˆ¶**:
- æ„Ÿåº”åŒºé•¿å®½ä¸èƒ½è¶…è¿‡2000æ ¼
- æŽ¨èä½¿ç”¨å¤šä¸ªå°æ„Ÿåº”åŒºè€Œéžå•ä¸ªå¤§æ„Ÿåº”åŒº

[â¬†ï¸ è¿”å›žç›®å½•](#ç›®å½•)

---

## 7. æ¨¡å—å¯¼å…¥è§„èŒƒ âš ï¸ CRITICAL

### 7.1 å…³é”®é—®é¢˜

**ç½‘æ˜“å¼•æ“Žçš„ModåŠ è½½æœºåˆ¶ä¼šæ‰«ææ¨¡å—çš„æ‰€æœ‰å±žæ€§**ï¼Œå°è¯•å®žä¾‹åŒ–ä»»ä½•å…·æœ‰`MOD_NAME`å±žæ€§çš„å¯¹è±¡ã€‚

**é”™è¯¯çš„å¯¼å…¥æ–¹å¼ä¼šå¯¼è‡´**ï¼š
```
TypeError: 'module' object is not callable
```

### 7.2 é—®é¢˜æ ¹æº

ç½‘æ˜“å¼•æ“Žçš„`ImportModMain()`å‡½æ•°å®žçŽ°ï¼š

```python
def ImportModMain(self, modMainPath, initTypeString):
    modModule = __import__(modMainPath, fromlist=[''])

    for mKey in dir(modModule):  # âš ï¸ éåŽ†æ¨¡å—çš„æ‰€æœ‰å±žæ€§
        cls = getattr(modModule, mKey)
        if not hasattr(cls, 'MOD_NAME'):
            continue
        instance = cls()  # âŒ å°è¯•è°ƒç”¨ - å¦‚æžœclsæ˜¯moduleå¯¹è±¡ä¼šæŠ¥é”™!
```

### 7.3 âœ… æ­£ç¡®çš„å¯¼å…¥è§„èŒƒ

#### è§„åˆ™1ï¼šæ°¸è¿œä¸è¦ä½¿ç”¨ `import module` å¯¼å…¥é…ç½®æ¨¡å—

**å¯¹äºŽåŒ…å«`MOD_NAME`å¸¸é‡çš„é…ç½®æ¨¡å—**ï¼Œå¿…é¡»ä½¿ç”¨ `from ... import ...`ï¼š

```python
# âœ… æ­£ç¡®å¯¼å…¥æ–¹å¼
from mod.common.mod import Mod
import mod.client.extraClientApi as clientApi
import mod.server.extraServerApi as serverApi

# âš ï¸ å…³é”®ï¼šä½¿ç”¨from...importå¯¼å…¥ï¼Œè€Œéžimport modConfig
from modConfig import MOD_NAME, MOD_VERSION, SERVER_SYSTEMS, CLIENT_SYSTEMS

@Mod.Binding(name=MOD_NAME, version=MOD_VERSION)
class MyMod(object):
    def __init__(self):
        pass

    @Mod.InitServer()
    def ServerInit(self):
        # âœ… ä½¿ç”¨ç›´æŽ¥å¯¼å…¥çš„å˜é‡å
        for systemName, systemPath in SERVER_SYSTEMS:
            serverApi.RegisterSystem(MOD_NAME, systemName, systemPath)
```

#### è§„åˆ™2ï¼šå­ç›®å½•ä¸­å¯¼å…¥modConfigå¿…é¡»ä½¿ç”¨å®Œæ•´è·¯å¾„

**åœ¨å­ç›®å½•æ–‡ä»¶ä¸­**ï¼ˆå¦‚ `config/`, `systems/`ï¼‰ï¼Œå¯¼å…¥`modConfig`æ—¶å¿…é¡»ä½¿ç”¨**å®Œæ•´çš„åŒ…è·¯å¾„**ï¼š

```python
# âœ… æ­£ç¡® - åœ¨å­ç›®å½•ä¸­ä½¿ç”¨å®Œæ•´è·¯å¾„
# æ–‡ä»¶ä½ç½®: MyMod/systems/MySystem.py
from MyMod.modConfig import MOD_NAME

# âŒ é”™è¯¯ - åœ¨å­ç›®å½•ä¸­ä½¿ç”¨ç›¸å¯¹å¯¼å…¥ä¼šå¯¼è‡´ImportError
# æ–‡ä»¶ä½ç½®: MyMod/systems/MySystem.py
from modConfig import MOD_NAME  # ImportError: No module named modConfig
```

#### ðŸ” ä¸ºä»€ä¹ˆå­ç›®å½•å¿…é¡»ç”¨ç»å¯¹å¯¼å…¥?

è¿™æ¶‰åŠPythonçš„**æ¨¡å—æœç´¢è·¯å¾„æœºåˆ¶** (`sys.path`):

```
Pythonå¯¼å…¥æ¨¡å—æ—¶çš„æœç´¢é¡ºåº:
1. å½“å‰æ–‡ä»¶æ‰€åœ¨ç›®å½•
2. PYTHONPATHçŽ¯å¢ƒå˜é‡æŒ‡å®šçš„ç›®å½•
3. Pythonæ ‡å‡†åº“ç›®å½•
4. site-packagesç›®å½•
```

**ç½‘æ˜“å¼•æ“Žçš„ç‰¹æ®Šå¤„ç†**:
```python
# å¼•æ“Žå¯åŠ¨æ—¶ä¼šå°†Modæ ¹ç›®å½•æ·»åŠ åˆ°sys.path
sys.path.insert(0, '/path/to/behavior_packs/MyMod/')

# æ­¤æ—¶çš„sys.path:
[
    '/path/to/behavior_packs/MyMod/',       # Modæ ¹ç›®å½•
    '/path/to/behavior_packs/MyMod/systems',  # âŒ å­ç›®å½•ä¸ä¼šè‡ªåŠ¨æ·»åŠ !
    ...
]
```

**åœºæ™¯åˆ†æž**:

**åœºæ™¯1: modMain.py ä¸­å¯¼å…¥** (âœ… æˆåŠŸ)
```python
# æ–‡ä»¶ä½ç½®: MyMod/modMain.py
from modConfig import MOD_NAME

# Pythonæœç´¢è¿‡ç¨‹:
# 1. å½“å‰ç›®å½• MyMod/ â†’ æ‰¾åˆ° MyMod/modConfig.py âœ…
```

**åœºæ™¯2: å­ç›®å½•ä¸­å¯¼å…¥** (âŒ å¤±è´¥)
```python
# æ–‡ä»¶ä½ç½®: MyMod/systems/MySystem.py
from modConfig import MOD_NAME

# Pythonæœç´¢è¿‡ç¨‹:
# 1. å½“å‰ç›®å½• MyMod/systems/ â†’ æœªæ‰¾åˆ° modConfig.py âŒ
# 2. sys.path[0] = MyMod/ â†’ æ‰¾åˆ° MyMod/modConfig.py
#    ä½†è§£é‡Šä¸º "æ‰¾åˆ°åä¸ºmodConfigçš„æ¨¡å—"
#    è€Œä¸æ˜¯ "æ‰¾åˆ°MyModåŒ…ä¸‹çš„modConfigæ¨¡å—"
# ç»“æžœ: ImportError æˆ–å¯¼å…¥åˆ°é”™è¯¯çš„æ¨¡å—
```

**åœºæ™¯3: ä½¿ç”¨ç»å¯¹å¯¼å…¥** (âœ… æˆåŠŸ)
```python
# æ–‡ä»¶ä½ç½®: MyMod/systems/MySystem.py
from MyMod.modConfig import MOD_NAME

# Pythonæœç´¢è¿‡ç¨‹:
# 1. åœ¨sys.pathä¸­æŸ¥æ‰¾ MyMod åŒ… â†’ sys.path[0] = MyMod/ âœ…
# 2. åœ¨ MyMod/ ä¸‹æŸ¥æ‰¾ modConfig.py â†’ æ‰¾åˆ° âœ…
```

**ç½‘æ˜“å¼•æ“Žçš„æ¨¡å—ç™½åå•é™åˆ¶**:
```python
# å¼•æ“Žåªå…è®¸å¯¼å…¥ç‰¹å®šå‘½åç©ºé—´çš„æ¨¡å—
whitelist = [
    'minecraft',
    'mod.client',
    'mod.server',
    'mod.common',
    # Modè‡ªèº«çš„å‘½åç©ºé—´ (å¦‚ 'MyMod')
]

# âŒ ç›¸å¯¹å¯¼å…¥å¯èƒ½ç»•è¿‡ç™½åå•æ£€æŸ¥
from modConfig import MOD_NAME  # å¯èƒ½è¢«è¯†åˆ«ä¸ºæ ¹çº§æ¨¡å—,ç»•è¿‡æ£€æŸ¥

# âœ… ç»å¯¹å¯¼å…¥ä¼šæ­£ç¡®è¯†åˆ«
from MyMod.modConfig import MOD_NAME  # æ˜Žç¡®å±žäºŽ 'MyMod' å‘½åç©ºé—´
```

**åŽŸå› **ï¼š
- `modConfig.py` ä½äºŽ `MyMod/` æ ¹ç›®å½•
- å­ç›®å½•æ–‡ä»¶ï¼ˆå¦‚ `MyMod/systems/MySystem.py`ï¼‰ä¸åœ¨åŒä¸€ç›®å½•å±‚çº§
- Pythonæ¨¡å—è§£æžè§„åˆ™è¦æ±‚ä½¿ç”¨å®Œæ•´è·¯å¾„ä»ŽåŒ…æ ¹å¼€å§‹å¯¼å…¥
- ç½‘æ˜“å¼•æ“Žå¯¹æ¨¡å—è·¯å¾„æœ‰ç™½åå•é™åˆ¶,ç»å¯¹å¯¼å…¥æ›´å®‰å…¨

**æ­£ç¡®åšæ³•å¯¹ç…§è¡¨**ï¼š

| æ–‡ä»¶ä½ç½® | æ­£ç¡®å¯¼å…¥æ–¹å¼ | é”™è¯¯å¯¼å…¥æ–¹å¼ |
|---------|-------------|-------------|
| `MyMod/modMain.py` | `from modConfig import MOD_NAME` | âœ… åŒçº§ç›®å½•å¯ç”¨ |
| `MyMod/systems/MySystem.py` | `from MyMod.modConfig import MOD_NAME` | âŒ `from modConfig import ...` |
| `MyMod/config/game_config.py` | `from MyMod.modConfig import MOD_NAME` | âŒ `from modConfig import ...` |

#### è§„åˆ™3ï¼šAPIæ¨¡å—å¯ä»¥ä½¿ç”¨ `import ... as ...`

**è¿™äº›æ¨¡å—ä¸åŒ…å«`MOD_NAME`ï¼Œä¸ä¼šè¢«å¼•æ“Žè¯¯è¯†åˆ«**ï¼š

```python
# âœ… æ­£ç¡®
import mod.server.extraServerApi as serverApi
import mod.client.extraClientApi as clientApi
```

#### è§„åˆ™4ï¼šæ™®é€šæ¨¡å—ä¼˜å…ˆä½¿ç”¨ `from ... import ...`

```python
# âœ… æŽ¨è
from systems.MySystem import MySystem
from config.game_config import GAME_CONFIG

# âš ï¸ å¯ç”¨ä½†ä¸æŽ¨èï¼ˆå¦‚æžœæ¨¡å—åŒ…å«ç‰¹æ®Šå±žæ€§å¯èƒ½æœ‰é£Žé™©ï¼‰
import systems.MySystem
```

### 7.4 é€šç”¨å¯¼å…¥å‡†åˆ™

| æ¨¡å—ç±»åž‹ | æ–‡ä»¶ä½ç½® | æ­£ç¡®å¯¼å…¥æ–¹å¼ | é”™è¯¯å¯¼å…¥æ–¹å¼ |
|---------|---------|-------------|-------------|
| **é…ç½®æ¨¡å—**ï¼ˆæœ‰MOD_NAMEï¼‰ | modMain.pyåŒçº§ | `from modConfig import VAR` | âŒ `import modConfig` |
| **é…ç½®æ¨¡å—**ï¼ˆæœ‰MOD_NAMEï¼‰ | å­ç›®å½•ï¼ˆsystems/config/ï¼‰ | `from MyMod.modConfig import VAR` | âŒ `from modConfig import VAR` |
| **APIæ¨¡å—** | ä»»ä½•ä½ç½® | `import mod.server.extraServerApi as api` | âœ… å¯ç”¨ |
| **ç³»ç»Ÿæ¨¡å—** | ä»»ä½•ä½ç½® | `from systems.XXX import XXX` | âœ… æŽ¨è |

[â¬†ï¸ è¿”å›žç›®å½•](#ç›®å½•)

---

## 8. å‘½åè§„èŒƒ

### 8.1 ç±»åï¼šPascalCase

```python
# âœ… æ­£ç¡®
class MyGameSystem(ServerSystem):
    pass

class DataManager(object):
    pass

# âŒ é”™è¯¯
class mygameSystem(ServerSystem):  # é¦–å­—æ¯åº”å¤§å†™
    pass
```

### 8.2 æ–¹æ³•/å‡½æ•°åï¼šsnake_case

```python
# âœ… æ­£ç¡®
def on_player_join(self):
    pass

def get_player_team_id(self, player_id):
    pass

# âŒ é”™è¯¯
def OnPlayerJoin(self):  # åº”ä½¿ç”¨snake_case
    pass
```

### 8.3 å¸¸é‡ï¼šUPPER_SNAKE_CASE

```python
# âœ… æ­£ç¡®
MOD_NAME = "MyMod"
MOD_VERSION = "1.0.0"
MAX_PLAYERS_PER_TEAM = 4

# âŒ é”™è¯¯
modName = "MyMod"  # åº”å…¨å¤§å†™
```

### 8.4 ç§æœ‰æˆå‘˜ï¼šå•ä¸‹åˆ’çº¿å‰ç¼€

```python
# âœ… æ­£ç¡®
class MySystem(ServerSystem):
    def __init__(self, namespace, systemName):
        self._created = False  # ç§æœ‰æˆå‘˜
        self._internal_state = {}

    def _internal_method(self):  # ç§æœ‰æ–¹æ³•
        pass
```

### 8.5 äº‹ä»¶å›žè°ƒï¼šOnå‰ç¼€

```python
# âœ… æ­£ç¡® - ä½¿ç”¨Onå‰ç¼€
def OnPlayerJoin(self, args):
    pass

def OnPlayerDie(self, args):
    pass

# âŒ é”™è¯¯ - å‘½åä¸æ¸…æ™°
def handle_join(self, args):  # åº”ä½¿ç”¨Onå‰ç¼€
    pass
```

[â¬†ï¸ è¿”å›žç›®å½•](#ç›®å½•)

---

## 9. æ–‡ä»¶ç»„ç»‡

### 9.1 æ¨¡å—æ–‡ä»¶ç»“æž„

æ¯ä¸ªPythonæ–‡ä»¶åº”éµå¾ªä»¥ä¸‹ç»“æž„ï¼š

```python
# -*- coding: utf-8 -*-
"""
æ¨¡å—åç§°å’Œç®€è¦è¯´æ˜Ž

è¯¦ç»†è¯´æ˜Žï¼ˆå¯é€‰ï¼‰ï¼š
- åŠŸèƒ½1
- åŠŸèƒ½2
"""

# 1. æ ‡å‡†åº“å¯¼å…¥
from __future__ import print_function

# 2. ç½‘æ˜“å¼•æ“Žå¯¼å…¥
import mod.server.extraServerApi as serverApi

# 3. ç¬¬ä¸‰æ–¹åº“å¯¼å…¥ï¼ˆå¦‚æœ‰ï¼‰
# import third_party_lib

# 4. é¡¹ç›®å†…éƒ¨å¯¼å…¥
from MyMod.config.game_config import GAME_CONFIG
from MyMod.modConfig import MOD_NAME

# 5. ç±»åž‹æ³¨è§£ï¼ˆæ³¨é‡Šå½¢å¼ï¼‰
# type: (str) -> bool

# 6. å¸¸é‡å®šä¹‰
DEFAULT_RADIUS = 5.0

# 7. ç±»å®šä¹‰
class MyClass(object):
    pass

# 8. å‡½æ•°å®šä¹‰
def my_function():
    pass
```

### 9.2 æŽ¨èç›®å½•ç»“æž„

```
MyMod/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ modMain.py          # Modå…¥å£
â”œâ”€â”€ modConfig.py        # ä¸»é…ç½®
â”œâ”€â”€ systems/            # Systemç³»ç»Ÿ
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ MyServerSystem.py
â”‚   â”œâ”€â”€ MyClientSystem.py
â”‚   â””â”€â”€ util/           # å·¥å…·ç±»
â”‚       â”œâ”€â”€ __init__.py
â”‚       â””â”€â”€ Helper.py
â”œâ”€â”€ components/         # è‡ªå®šä¹‰ç»„ä»¶
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ MyComponent.py
â””â”€â”€ config/             # é…ç½®æ–‡ä»¶
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ game_config.py
    â””â”€â”€ item_config.py
```

### 9.3 __init__.pyæ–‡ä»¶

æ¯ä¸ªPythonåŒ…ç›®å½•å¿…é¡»åŒ…å«`__init__.py`ï¼š

```python
# -*- coding: utf-8 -*-
"""
åŒ…è¯´æ˜Ž
"""

# å¯ä»¥ä¸ºç©ºï¼Œæˆ–å¯¼å‡ºå¸¸ç”¨ç±»/å‡½æ•°
from .MyClass import MyClass
from .my_function import my_function

__all__ = ['MyClass', 'my_function']
```

[â¬†ï¸ è¿”å›žç›®å½•](#ç›®å½•)

---

## 10. æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 10.1 é¿å…åœ¨Update()ä¸­æ‰§è¡Œè€—æ—¶æ“ä½œ

```python
# âœ… æ­£ç¡® - ä½¿ç”¨è®¡æ•°å™¨é™ä½Žé¢‘çŽ‡
class MySystem(ServerSystem):
    def __init__(self, namespace, systemName):
        ServerSystem.__init__(self, namespace, systemName)
        self.tickCounter = 0
        self.Create()

    def Update(self):
        self.tickCounter += 1

        # æ¯20 tickï¼ˆ1ç§’ï¼‰æ‰§è¡Œä¸€æ¬¡
        if self.tickCounter % 20 == 0:
            self.updateExpensiveCalculation()

# âŒ é”™è¯¯ - æ¯tickéƒ½æ‰§è¡Œè€—æ—¶æ“ä½œ
class MySystem(ServerSystem):
    def Update(self):
        # æ¯tickéƒ½æŸ¥è¯¢æ•°æ®åº“ã€è®¡ç®—å¤æ‚é€»è¾‘ç­‰
        self.queryDatabase()
        self.complexCalculation()
```

### 10.2 åŠæ—¶å–æ¶ˆäº‹ä»¶ç›‘å¬

```python
# âœ… æ­£ç¡® - åœ¨Destroyä¸­å–æ¶ˆç›‘å¬
def Create(self):
    self.ListenForEvent("SomeEvent", "Minecraft", self, self.handler)

def Destroy(self):
    self.UnListenAllEvents()  # æ¸…ç†æ‰€æœ‰ç›‘å¬
```

### 10.3 ç¼“å­˜é¢‘ç¹è®¿é—®çš„æ•°æ®

```python
# âœ… æ­£ç¡® - ä½¿ç”¨æˆå‘˜å˜é‡ç¼“å­˜
class MySystem(ServerSystem):
    def __init__(self, namespace, systemName):
        ServerSystem.__init__(self, namespace, systemName)
        self.playerCache = {}  # ç¼“å­˜çŽ©å®¶æ•°æ®
        self.Create()

    def getPlayerTeam(self, playerId):
        if playerId in self.playerCache:
            return self.playerCache[playerId]

        team = self._queryPlayerTeam(playerId)
        self.playerCache[playerId] = team
        return team
```

### 10.4 æ‰¹é‡æ“ä½œ

```python
# âœ… æ­£ç¡® - æ‰¹é‡å¤„ç†
def updateAllPlayersHUD(self, message):
    playerIds = self.getAllPlayers()
    data = self.CreateEventData()
    data["message"] = message
    # ä½¿ç”¨NotifyToMultiClientsæ‰¹é‡å‘é€ï¼ˆæ€§èƒ½æ›´å¥½ï¼‰
    self.NotifyToMultiClients(playerIds, "UpdateHUD", data)

# âŒ é”™è¯¯ - å¾ªçŽ¯å•ä¸ªå‘é€
def updateAllPlayersHUD(self, message):
    for playerId in self.getAllPlayers():
        data = self.CreateEventData()
        data["message"] = message
        self.NotifyToClient(playerId, "UpdateHUD", data)  # æ€§èƒ½å·®
```

### 10.5 æ—¥å¿—æŽ§åˆ¶

```python
# âœ… æ­£ç¡® - ä½¿ç”¨æ—¥å¿—çº§åˆ«
DEBUG = False  # ç”Ÿäº§çŽ¯å¢ƒè®¾ä¸ºFalse

def onPlayerJoin(self, playerId):
    if DEBUG:
        print("[DEBUG] çŽ©å®¶åŠ å…¥:", playerId)

    # æ ¸å¿ƒé€»è¾‘...

# âŒ é”™è¯¯ - ç”Ÿäº§çŽ¯å¢ƒå¤§é‡æ—¥å¿—
def onPlayerJoin(self, playerId):
    print("çŽ©å®¶åŠ å…¥:", playerId)
    print("å½“å‰çŽ©å®¶åˆ—è¡¨:", self.players)
    print("å½“å‰çŠ¶æ€:", self.currentState)
    # å¤§é‡æ—¥å¿—å½±å“æ€§èƒ½
```

[â¬†ï¸ è¿”å›žç›®å½•](#ç›®å½•)

---

## 11. ç½‘æ˜“å¼•æ“Žé™åˆ¶

### 11.1 Pythonç‰ˆæœ¬

- âœ… **å¿…é¡»å…¼å®¹Python 2.7**
- âŒ ä¸èƒ½ä½¿ç”¨Python 3ä¸“æœ‰ç‰¹æ€§

### 11.2 å®žä½“æ ‡è¯†ç¬¦

- âœ… å®žä½“ç±»åž‹åç§°å»ºè®®ä¸è¶…è¿‡32å­—ç¬¦
- âœ… ä½¿ç”¨å°å†™å­—æ¯å’Œä¸‹åˆ’çº¿ï¼š`mygame_entity_custom`
- âœ… ä½¿ç”¨å‘½åç©ºé—´ï¼š`namespace:entity_type`

### 11.3 ç»´åº¦ç®¡ç†

- âœ… ç»´åº¦IDå¿…é¡»æ˜¯æ•´æ•°
- âœ… æŽ¨èä½¿ç”¨10000ä»¥ä¸Šçš„IDé¿å…å†²çª
- âœ… ä¸»ä¸–ç•Œï¼š0ï¼Œåœ°ç‹±ï¼š1ï¼Œæœ«åœ°ï¼š2

### 11.4 äº‹ä»¶ç³»ç»Ÿ

- âœ… è‡ªå®šä¹‰äº‹ä»¶åç§°å»ºè®®ä½¿ç”¨é©¼å³°å‘½åï¼š`TeamResourceUpdateEvent`
- âœ… äº‹ä»¶æ•°æ®å¿…é¡»æ˜¯å¯åºåˆ—åŒ–çš„ï¼ˆdictã€listã€strã€intã€floatã€boolï¼‰
- âŒ ä¸èƒ½ä¼ é€’tupleï¼ˆä¼šå¯¼è‡´åºåˆ—åŒ–å¤±è´¥ï¼‰
- âŒ ä¸èƒ½ä¼ é€’å¯¹è±¡å®žä¾‹

### 11.5 ç»„ä»¶é™åˆ¶

- âš ï¸ æŸäº›ç»„ä»¶åœ¨ç‰¹å®šç»´åº¦æˆ–æ¸¸æˆæ¨¡å¼ä¸‹å¯èƒ½ä¸å¯ç”¨
- âš ï¸ å®¢æˆ·ç«¯ç»„ä»¶ä¸èƒ½åœ¨æœåŠ¡ç«¯ä½¿ç”¨ï¼Œåä¹‹äº¦ç„¶
- âš ï¸ éœ€è¦åœ¨Create()ä¸­èŽ·å–ç»„ä»¶ï¼Œä¸èƒ½åœ¨__init__ä¸­

### 11.6 AOIé™åˆ¶

- âš ï¸ AOIæ„Ÿåº”åŒºé•¿å®½ä¸èƒ½è¶…è¿‡2000æ ¼
- âš ï¸ æŽ¨èä½¿ç”¨å¤šä¸ªå°æ„Ÿåº”åŒº
- âš ï¸ åŒºå—å¸è½½æ—¶IsEntityAliveè¿”å›žFalse

[â¬†ï¸ è¿”å›žç›®å½•](#ç›®å½•)

---

## 12. å¸¸è§åæ¨¡å¼è­¦å‘Š âš ï¸

ä»¥ä¸‹æ˜¯MODSDKå¼€å‘ä¸­åº”è¯¥é¿å…çš„ä¸è‰¯å®žè·µæ¨¡å¼ã€‚è¿™äº›æ¨¡å¼è™½ç„¶åœ¨æŸäº›æƒ…å†µä¸‹å¯ä»¥è¿è¡Œ,ä½†ä¼šå¯¼è‡´ä»£ç **éš¾ä»¥ç»´æŠ¤ã€æµ‹è¯•å›°éš¾ã€æ€§èƒ½ä½Žä¸‹**ã€‚

### 12.1 å•ä¾‹æ¨¡å¼æ»¥ç”¨

#### âŒ åæ¨¡å¼ç¤ºä¾‹

```python
# âŒ é”™è¯¯ - æ»¥ç”¨å•ä¾‹æ¨¡å¼
class DataManager(object):
    _instance = None

    def __new__(cls):
        if cls._instance is None:
            cls._instance = super(DataManager, cls).__new__(cls)
        return cls._instance

    def __init__(self):
        self.data = {}

# åœ¨Systemä¸­ä½¿ç”¨
class MySystem(ServerSystem):
    def OnPlayerJoin(self, args):
        mgr = DataManager()  # å…¨å±€å•ä¾‹
        mgr.data[playerId] = {...}
```

**å±å®³**:
- **å…¨å±€çŠ¶æ€æ±¡æŸ“**: ä»»ä½•ä»£ç éƒ½å¯ä»¥ä¿®æ”¹DataManager,å¯¼è‡´çŠ¶æ€ä¸å¯é¢„æµ‹
- **éš¾ä»¥æµ‹è¯•**: å•å…ƒæµ‹è¯•éœ€è¦å¤æ‚çš„å…¨å±€çŠ¶æ€é‡ç½®
- **éšå¼ä¾èµ–**: Systemä¹‹é—´é€šè¿‡å…¨å±€å•ä¾‹è€¦åˆ,ä¾èµ–å…³ç³»ä¸æ˜Žç¡®

#### âœ… æ­£ç¡®åšæ³•: é€šè¿‡Systemä¾èµ–æ³¨å…¥

```python
# âœ… æ­£ç¡® - ä½¿ç”¨Systemä½œä¸ºç®¡ç†å™¨
class DataSystem(ServerSystem):
    def __init__(self, namespace, systemName):
        ServerSystem.__init__(self, namespace, systemName)
        self.playerData = {}
        self.Create()

    def GetPlayerData(self, playerId):
        return self.playerData.get(playerId)

    def SetPlayerData(self, playerId, data):
        self.playerData[playerId] = data

# åœ¨å…¶ä»–Systemä¸­ä½¿ç”¨
class MySystem(ServerSystem):
    def OnPlayerJoin(self, args):
        playerId = args['playerId']
        # é€šè¿‡GetSystemèŽ·å–,ä¾èµ–å…³ç³»æ˜Žç¡®
        dataSystem = serverApi.GetSystem("MyMod", "DataSystem")
        dataSystem.SetPlayerData(playerId, {...})
```

---

### 12.2 å…¨å±€å˜é‡æ±¡æŸ“

#### âŒ åæ¨¡å¼ç¤ºä¾‹

```python
# âŒ é”™è¯¯ - ä½¿ç”¨å…¨å±€å˜é‡
# config.py
PLAYER_TEAMS = {}  # å…¨å±€å­—å…¸
GAME_STATE = "lobby"  # å…¨å±€çŠ¶æ€

# MySystem.py
from config import PLAYER_TEAMS, GAME_STATE

class MySystem(ServerSystem):
    def OnPlayerJoin(self, args):
        playerId = args['playerId']
        PLAYER_TEAMS[playerId] = "red"  # ä¿®æ”¹å…¨å±€å˜é‡
```

**å±å®³**:
- **éšå¼ä¾èµ–**: å…¶ä»–æ¨¡å—å¯èƒ½åœ¨ä»»ä½•åœ°æ–¹ä¿®æ”¹PLAYER_TEAMS
- **ç«žæ€æ¡ä»¶**: å¤šä¸ªSystemåŒæ—¶ä¿®æ”¹å¯èƒ½å¯¼è‡´æ•°æ®ä¸ä¸€è‡´
- **éš¾ä»¥è¿½è¸ª**: æ— æ³•çŸ¥é“è°åœ¨ä»€ä¹ˆæ—¶å€™ä¿®æ”¹äº†å…¨å±€å˜é‡

#### âœ… æ­£ç¡®åšæ³•: ä½¿ç”¨Systemæˆå‘˜å˜é‡æˆ–Component

```python
# âœ… æ­£ç¡®æ–¹å¼1: ä½¿ç”¨Systemæˆå‘˜å˜é‡
class MySystem(ServerSystem):
    def __init__(self, namespace, systemName):
        ServerSystem.__init__(self, namespace, systemName)
        self.player_teams = {}  # æˆå‘˜å˜é‡,ä½œç”¨åŸŸæ˜Žç¡®
        self.game_state = "lobby"
        self.Create()

    def OnPlayerJoin(self, args):
        playerId = args['playerId']
        self.player_teams[playerId] = "red"

# âœ… æ­£ç¡®æ–¹å¼2: ä½¿ç”¨ComponentæŒä¹…åŒ–
class MySystem(ServerSystem):
    def OnPlayerJoin(self, args):
        playerId = args['playerId']
        teamComp = self.CreateComponent(playerId, "MyMod", "team")
        teamComp.teamId = "red"
```

---

### 12.3 ç¡¬ç¼–ç é­”æ•°

#### âŒ åæ¨¡å¼ç¤ºä¾‹

```python
# âŒ é”™è¯¯ - ç¡¬ç¼–ç é­”æ•°
class VIPSystem(ServerSystem):
    def CheckVIPLevel(self, playerId):
        vipComp = self.GetComponent(playerId, "MyMod", "vip")
        if vipComp.level == 1:  # é­”æ•°: 1ä»£è¡¨ä»€ä¹ˆ?
            return "æ™®é€šVIP"
        elif vipComp.level == 2:  # é­”æ•°: 2ä»£è¡¨ä»€ä¹ˆ?
            return "é«˜çº§VIP"
        elif vipComp.level == 3:  # é­”æ•°: 3ä»£è¡¨ä»€ä¹ˆ?
            return "è‡³å°ŠVIP"
```

**å±å®³**:
- **å¯è¯»æ€§å·®**: æ— æ³•ç›´è§‚ç†è§£æ•°å­—çš„å«ä¹‰
- **ç»´æŠ¤å›°éš¾**: ä¿®æ”¹VIPç­‰çº§éœ€è¦æŸ¥æ‰¾æ‰€æœ‰ç¡¬ç¼–ç çš„åœ°æ–¹
- **å®¹æ˜“å‡ºé”™**: å¯èƒ½é—æ¼æŸäº›ç¡¬ç¼–ç çš„ä½ç½®

#### âœ… æ­£ç¡®åšæ³•: å®šä¹‰å¸¸é‡æˆ–æžšä¸¾

```python
# âœ… æ­£ç¡® - å®šä¹‰å¸¸é‡
class VIPSystem(ServerSystem):
    # åœ¨ç±»é¡¶éƒ¨å®šä¹‰å¸¸é‡
    VIP_LEVEL_NORMAL = 1
    VIP_LEVEL_PREMIUM = 2
    VIP_LEVEL_SUPREME = 3

    VIP_NAMES = {
        VIP_LEVEL_NORMAL: "æ™®é€šVIP",
        VIP_LEVEL_PREMIUM: "é«˜çº§VIP",
        VIP_LEVEL_SUPREME: "è‡³å°ŠVIP",
    }

    def CheckVIPLevel(self, playerId):
        vipComp = self.GetComponent(playerId, "MyMod", "vip")
        return self.VIP_NAMES.get(vipComp.level, "éžVIP")
```

---

### 12.4 å­—ç¬¦ä¸²åˆ†å‘åæ¨¡å¼

#### âŒ åæ¨¡å¼ç¤ºä¾‹

```python
# âŒ é”™è¯¯ - å­—ç¬¦ä¸²åˆ†å‘
class MessageHandler(ServerSystem):
    def OnMessage(self, args):
        msg_type = args['type']  # "chat", "trade", "friend"

        # é€šè¿‡å­—ç¬¦ä¸²æ‹¼æŽ¥æ–¹æ³•å
        method_name = "handle_" + msg_type
        method = getattr(self, method_name, None)

        if method and callable(method):
            method(args)  # è°ƒç”¨ self.handle_chat(args)

    def handle_chat(self, args):
        pass

    def handle_trade(self, args):
        pass
```

**å±å®³**:
- **æ— ç±»åž‹æ£€æŸ¥**: æ‹¼å†™é”™è¯¯ä¸ä¼šè¢«å‘çŽ°,ç›´åˆ°è¿è¡Œæ—¶
- **é‡æž„å›°éš¾**: IDEæ— æ³•è¿½è¸ªæ–¹æ³•å¼•ç”¨,é‡å‘½åä¼šé—æ¼
- **è°ƒè¯•å›°éš¾**: å †æ ˆè·Ÿè¸ªä¸­çš„åŠ¨æ€è°ƒç”¨éš¾ä»¥å®šä½

#### âœ… æ­£ç¡®åšæ³•: ä½¿ç”¨å‡½æ•°å­—å…¸

```python
# âœ… æ­£ç¡® - ä½¿ç”¨å‡½æ•°å­—å…¸
class MessageHandler(ServerSystem):
    def __init__(self, namespace, systemName):
        ServerSystem.__init__(self, namespace, systemName)

        # æ˜¾å¼å®šä¹‰å¤„ç†å™¨æ˜ å°„
        self.handlers = {
            "chat": self.HandleChat,
            "trade": self.HandleTrade,
            "friend": self.HandleFriend,
        }
        self.Create()

    def OnMessage(self, args):
        msg_type = args['type']
        handler = self.handlers.get(msg_type)

        if handler:
            handler(args)
        else:
            print("[è­¦å‘Š] æœªçŸ¥æ¶ˆæ¯ç±»åž‹:", msg_type)

    def HandleChat(self, args):
        pass

    def HandleTrade(self, args):
        pass

    def HandleFriend(self, args):
        pass
```

---

### 12.5 åœ¨Componentä¸­ç¼–å†™ä¸šåŠ¡é€»è¾‘

#### âŒ åæ¨¡å¼ç¤ºä¾‹

```python
# âŒ é”™è¯¯ - ComponentåŒ…å«ä¸šåŠ¡é€»è¾‘
from mod.server.component import ServerComponent

class PlayerComponent(ServerComponent):
    def __init__(self, entityId):
        ServerComponent.__init__(self, entityId)
        self.coins = 100
        self.level = 1

    # âŒ Componentä¸åº”è¯¥åŒ…å«ä¸šåŠ¡é€»è¾‘æ–¹æ³•!
    def AddCoins(self, amount):
        self.coins += amount
        if self.coins >= 1000:
            self.LevelUp()

    def LevelUp(self):
        self.level += 1
        # âŒ Componentä¸­è°ƒç”¨APIæ˜¯å±é™©çš„!
        attrComp = serverApi.GetEngineCompFactory().CreateAttr(self.entityId)
        attrComp.SetAttr(...)
```

**å±å®³**:
- **è¿åæž¶æž„åŽŸåˆ™**: Componentåº”è¯¥æ˜¯çº¯æ•°æ®å®¹å™¨(POJOæ¨¡å¼)
- **éš¾ä»¥æµ‹è¯•**: ä¸šåŠ¡é€»è¾‘åˆ†æ•£åœ¨Componentä¸­,æ— æ³•ç»Ÿä¸€æµ‹è¯•
- **æ€§èƒ½é—®é¢˜**: Componentéœ€è¦é¢‘ç¹åºåˆ—åŒ–,åŒ…å«é€»è¾‘ä¼šå¢žåŠ å¼€é”€

#### âœ… æ­£ç¡®åšæ³•: ä¸šåŠ¡é€»è¾‘æ”¾åœ¨Systemä¸­

```python
# âœ… æ­£ç¡® - Componentåªå­˜å‚¨æ•°æ®
from mod.server.component import ServerComponent

class PlayerComponent(ServerComponent):
    def __init__(self, entityId):
        ServerComponent.__init__(self, entityId)
        self.coins = 100
        self.level = 1
        # åªå­˜å‚¨æ•°æ®,ä¸åŒ…å«ä¸šåŠ¡é€»è¾‘

# âœ… ä¸šåŠ¡é€»è¾‘åœ¨Systemä¸­
class PlayerSystem(ServerSystem):
    def AddCoins(self, playerId, amount):
        playerComp = self.GetComponent(playerId, "MyMod", "player")
        if not playerComp:
            return

        playerComp.coins += amount

        # æ£€æŸ¥æ˜¯å¦å‡çº§
        if playerComp.coins >= 1000 and playerComp.level < 10:
            self.LevelUp(playerId)

    def LevelUp(self, playerId):
        playerComp = self.GetComponent(playerId, "MyMod", "player")
        playerComp.level += 1

        # æ›´æ–°å±žæ€§
        attrComp = serverApi.GetEngineCompFactory().CreateAttr(playerId)
        attrComp.SetAttr(...)

        # é€šçŸ¥å®¢æˆ·ç«¯
        data = self.CreateEventData()
        data["newLevel"] = playerComp.level
        self.NotifyToClient(playerId, "LevelUpEvent", data)
```

---

### 12.6 å›žè°ƒåœ°ç‹±

#### âŒ åæ¨¡å¼ç¤ºä¾‹

```python
# âŒ é”™è¯¯ - åµŒå¥—å›žè°ƒ
class MySystem(ServerSystem):
    def OnPlayerRequestShop(self, args):
        playerId = args['playerId']

        def on_verify_success(result):
            def on_get_items(items):
                def on_apply_discount(discounted_items):
                    def on_send_data(success):
                        if success:
                            print("å•†åº—æ•°æ®å‘é€æˆåŠŸ")
                        else:
                            print("å‘é€å¤±è´¥")
                    self.SendShopData(playerId, discounted_items, on_send_data)
                self.ApplyVIPDiscount(playerId, items, on_apply_discount)
            self.GetShopItems(on_get_items)
        self.VerifyPlayer(playerId, on_verify_success)
```

**å±å®³**:
- **å¯è¯»æ€§å·®**: åµŒå¥—è¿‡æ·±,éš¾ä»¥ç†è§£é€»è¾‘æµç¨‹
- **é”™è¯¯å¤„ç†å›°éš¾**: æ¯ä¸€å±‚éƒ½éœ€è¦å¤„ç†é”™è¯¯,å®¹æ˜“é—æ¼
- **ç»´æŠ¤å›°éš¾**: ä¿®æ”¹æµç¨‹éœ€è¦è°ƒæ•´å¤šå±‚åµŒå¥—

#### âœ… æ­£ç¡®åšæ³•: ä½¿ç”¨äº‹ä»¶ç³»ç»Ÿè§£è€¦

```python
# âœ… æ­£ç¡® - ä½¿ç”¨äº‹ä»¶è§£è€¦
class MySystem(ServerSystem):
    def Create(self):
        # æ³¨å†Œäº‹ä»¶ç›‘å¬
        self.ListenForEvent("MyMod", "MyMod", "PlayerVerified", self, self.OnPlayerVerified)
        self.ListenForEvent("MyMod", "MyMod", "ShopItemsLoaded", self, self.OnShopItemsLoaded)
        self.ListenForEvent("MyMod", "MyMod", "DiscountApplied", self, self.OnDiscountApplied)

    def OnPlayerRequestShop(self, args):
        playerId = args['playerId']
        self.VerifyPlayer(playerId)

    def OnPlayerVerified(self, args):
        playerId = args['playerId']
        if args['success']:
            self.LoadShopItems(playerId)

    def OnShopItemsLoaded(self, args):
        playerId = args['playerId']
        items = args['items']
        self.ApplyVIPDiscount(playerId, items)

    def OnDiscountApplied(self, args):
        playerId = args['playerId']
        items = args['discounted_items']
        self.SendShopData(playerId, items)
```

---

### åæ¨¡å¼æ£€æµ‹æ¸…å•

åœ¨ä»£ç å®¡æŸ¥æ—¶,æ£€æŸ¥æ˜¯å¦å­˜åœ¨ä»¥ä¸‹åæ¨¡å¼:

- [ ] æ˜¯å¦ä½¿ç”¨äº†å•ä¾‹æ¨¡å¼? (åº”è¯¥ç”¨Systemç®¡ç†)
- [ ] æ˜¯å¦ä½¿ç”¨äº†å…¨å±€å˜é‡? (åº”è¯¥ç”¨Systemæˆå‘˜å˜é‡æˆ–Component)
- [ ] æ˜¯å¦æœ‰ç¡¬ç¼–ç çš„é­”æ•°? (åº”è¯¥å®šä¹‰å¸¸é‡)
- [ ] æ˜¯å¦ä½¿ç”¨äº†å­—ç¬¦ä¸²æ‹¼æŽ¥æ–¹æ³•å? (åº”è¯¥ç”¨å‡½æ•°å­—å…¸)
- [ ] Componentä¸­æ˜¯å¦åŒ…å«ä¸šåŠ¡é€»è¾‘? (åº”è¯¥ç§»åˆ°System)
- [ ] æ˜¯å¦æœ‰3å±‚ä»¥ä¸Šçš„å›žè°ƒåµŒå¥—? (åº”è¯¥ç”¨äº‹ä»¶ç³»ç»Ÿ)

[â¬†ï¸ è¿”å›žç›®å½•](#ç›®å½•)

---

## æ£€æŸ¥æ¸…å•

åœ¨æäº¤ä»£ç å‰ï¼Œè¯·ç¡®è®¤ï¼š

### Python 2.7å…¼å®¹æ€§
- [ ] æ–‡ä»¶å¼€å¤´æœ‰ `# -*- coding: utf-8 -*-`
- [ ] å¯¼å…¥äº† `from __future__ import print_function`
- [ ] ä½¿ç”¨ `.format()` è€Œéž f-strings
- [ ] ç±»åž‹æ³¨è§£ä½¿ç”¨æ³¨é‡Šå½¢å¼

### CRITICALè§„èŒƒ
- [ ] æ²¡æœ‰è·¨ç«¯GetSystemï¼ˆä½¿ç”¨NotifyToClient/Serverï¼‰
- [ ] åœ¨ `__init__` ä¸­æ‰‹åŠ¨è°ƒç”¨äº† `self.Create()`
- [ ] `Create()` ä¸­åŒ…å«åˆå§‹åŒ–é€»è¾‘
- [ ] `Destroy()` ä¸­åŒ…å«æ¸…ç†é€»è¾‘
- [ ] EventDataæ²¡æœ‰ä½¿ç”¨tupleï¼ˆä½¿ç”¨listï¼‰

### æ¨¡å—å¯¼å…¥
- [ ] é…ç½®æ¨¡å—ä½¿ç”¨ `from ... import ...`
- [ ] æ²¡æœ‰ä½¿ç”¨ `import modConfig`
- [ ] **å­ç›®å½•æ–‡ä»¶ä½¿ç”¨ `from MyMod.modConfig import ...`**
- [ ] **modMain.pyåŒçº§æ–‡ä»¶ä½¿ç”¨ `from modConfig import ...`**

### å‘½åè§„èŒƒ
- [ ] ç±»åä½¿ç”¨PascalCase
- [ ] æ–¹æ³•åä½¿ç”¨snake_case
- [ ] å¸¸é‡ä½¿ç”¨UPPER_SNAKE_CASE
- [ ] äº‹ä»¶å›žè°ƒä½¿ç”¨Onå‰ç¼€

### æ€§èƒ½
- [ ] `Update()` ä¸­é¿å…è€—æ—¶æ“ä½œ
- [ ] åŠæ—¶å–æ¶ˆäº‹ä»¶ç›‘å¬
- [ ] ç¼“å­˜é¢‘ç¹è®¿é—®çš„æ•°æ®
- [ ] æ‰¹é‡æ“ä½œä½¿ç”¨NotifyToMultiClients

[â¬†ï¸ è¿”å›žç›®å½•](#ç›®å½•)

---

## ðŸ“š ç›¸å…³æ–‡æ¡£

### å­¦ä¹ è·¯å¾„
- **ä¸Šä¸€ç¯‡**: [å¿«é€Ÿå¼€å§‹](./å¿«é€Ÿå¼€å§‹.md) ðŸš€
- **å½“å‰**: å¼€å‘è§„èŒƒ ðŸ“
- **ä¸‹ä¸€ç¯‡**: [å¼€å‘æŒ‡å—](./å¼€å‘æŒ‡å—.md) ðŸ“–

### å¿…è¯»æ–‡æ¡£
- [é—®é¢˜æŽ’æŸ¥](./é—®é¢˜æŽ’æŸ¥.md) - è¿åè§„èŒƒæ—¶æŸ¥çœ‹
- [å¼€å‘æŒ‡å—](./å¼€å‘æŒ‡å—.md) - å®Œæ•´å¼€å‘æµç¨‹
- [CLAUDE.md](../CLAUDE.md) - AIå·¥ä½œæµå‚è€ƒ

### å®˜æ–¹èµ„æº
- [ç½‘æ˜“MODSDK Wiki](https://github.com/EaseCation/netease-modsdk-wiki) - å®˜æ–¹APIæ–‡æ¡£
- [åŸºå²©ç‰ˆWiki](https://github.com/Bedrock-OSS/bedrock-wiki) - åŽŸç‰ˆæœºåˆ¶å‚è€ƒ

---

## ðŸ”— å¿«é€Ÿé“¾æŽ¥

| æ ¸å¿ƒè§„èŒƒ | å¼€å‘æŒ‡å— | å‚è€ƒèµ„æ–™ |
|---------|---------|---------|
| [ðŸ  é¦–é¡µ](../README.md) | [ðŸ“– å¼€å‘æŒ‡å—](./å¼€å‘æŒ‡å—.md) | [ðŸ—ï¸ æž¶æž„æ–‡æ¡£](../CLAUDE.md) |
| [ðŸš€ å¿«é€Ÿå¼€å§‹](./å¿«é€Ÿå¼€å§‹.md) | [ðŸ”§ é—®é¢˜æŽ’æŸ¥](./é—®é¢˜æŽ’æŸ¥.md) | [ðŸ“Š é¡¹ç›®çŠ¶æ€](./é¡¹ç›®çŠ¶æ€.md) |

---

**[â¬†ï¸ è¿”å›žé¡¶éƒ¨](#å¼€å‘è§„èŒƒ)** | **[ðŸ  è¿”å›žé¦–é¡µ](../README.md)** | **[âž¡ï¸ ä¸‹ä¸€ç¯‡: å¼€å‘æŒ‡å—](./å¼€å‘æŒ‡å—.md)**

---

_æœ€åŽæ›´æ–°: 2025-11-11 | æ–‡æ¡£ç‰ˆæœ¬: 3.1 (å¢žåŠ æž¶æž„åŽŸç†æ·±åº¦è§£é‡Šå’Œåæ¨¡å¼è­¦å‘Š)_

---

**è®°ä½**ï¼š
- âœ… éµå¾ªè¿™äº›è§„èŒƒå¯ä»¥é¿å…90%çš„å¸¸è§é”™è¯¯ï¼
- âœ… ç†è§£"ä¸ºä»€ä¹ˆ"æ¯”è®°ä½"æ€Žä¹ˆåš"æ›´é‡è¦
- âœ… é¿å…åæ¨¡å¼å¯ä»¥æå‡ä»£ç è´¨é‡å’Œå¯ç»´æŠ¤æ€§
