# 安装与配置

> **基于Claude的MODSDK开发工作流 - 快速部署指南 v2.0**
>
> 一次安装，到处使用

---

## 🎯 目标

完成安装后，你可以在**任意MODSDK项目**中使用 `initmc` 命令，自动部署完整的AI辅助开发工作流。

---

## 📋 前置要求

### 必需环境
- **Node.js** - 版本 ≥ 12.x（用于运行安装脚本和部署命令）
- **Claude Code** - AI辅助开发工具
- **Git** - 用于克隆项目

### 验证环境
```bash
# 检查Node.js
node --version
# 应显示: v12.x 或更高版本

# 检查Git
git --version
```

---

## 🚀 快速安装（2步）

### 步骤1: 克隆项目

```bash
# 克隆到你的工作目录（任意位置均可）
cd D:\EcWork  # 或你的工作目录
git clone <项目仓库地址> 基于Claude的MODSDK开发工作流
cd 基于Claude的MODSDK开发工作流
```

### 步骤2: 全局安装

```bash
# 安装依赖
npm install

# 运行全局安装脚本
npm run install-global
```

**安装脚本会自动：**
- 将工作流文件复制到 `~/.claude-modsdk-workflow/`
- 注册全局命令 `initmc`（根据操作系统自动配置）

**Windows系统：**
- 通过 `npm link` 注册全局命令
- 需要确保 npm 全局bin目录在 PATH 中

**Unix/Linux/Mac系统：**
- 通过 `npm link` 注册全局命令
- 可能需要 `sudo` 权限

**验证安装：**
```bash
# 检查全局工作流目录
ls ~/.claude-modsdk-workflow/

# Windows:
dir "%USERPROFILE%\.claude-modsdk-workflow\"

# 检查命令是否可用
which initmc  # Unix/Mac
where initmc  # Windows
```

---

## ✅ 完成！现在可以开始开发

### 使用 `initmc` 命令部署工作流

```bash
# 1. 打开任意MODSDK项目目录
cd <你的MODSDK项目目录>

# 2. 执行部署命令
initmc

# 3. 等待部署完成（约10-30秒）

# 4. 重启Claude Code（如果已打开）

# 5. 立即开始开发
/cc 创建一个玩家加入事件监听System
```

**部署内容**：
- ✅ 3个命令文件（`/cc`、`/enhance-docs`、`/validate-docs`）
- ✅ 完整的 `CLAUDE.md`（包含核心规范和工作流指南）
- ✅ `markdown/` 目录（包含开发规范、问题排查、API速查等文档）
- ✅ `markdown/ai/` 目录（包含AI辅助文档）
- ✅ `tasks/` 目录（用于任务上下文管理）

**优点**：
- ✅ 可靠性高（不依赖AI理解，使用Node.js脚本直接复制）
- ✅ 自动验证（确保所有文件正确复制）
- ✅ 快速部署（10-30秒完成）
- ✅ 定制化配置（自动替换项目路径等占位符）

**注意**：
- 确保在 MODSDK 项目根目录（包含 `modMain.py` 的目录）执行
- 命令会自动检测并阻止在工作流项目本身执行

---

详细文档请参考工作流项目中的完整版 `安装与配置.md`
